# Feature: CLI

Das Command Line Interface ist das Herzstück der Developer Experience.

## Commands

### `npx nativeui init`

Initialisiert nativeui in einem Expo/React Native Projekt.

```bash
npx nativeui init

# Interaktiv:
# ? Styling approach? (nativewind / stylesheet / hybrid)
# ? Components directory? (./components/ui)
# ? Include demo components? (yes / no)
```

**Erstellt:**
```
project/
├── nativeui.config.ts
├── components/
│   └── ui/
│       └── tokens.ts
├── lib/
│   └── utils.ts          # cn() und Helper
└── package.json (updated)
```

### Utils Library

Die `utils.ts` wird automatisch erstellt:

```typescript
// lib/utils.ts
import { clsx, type ClassValue } from 'clsx';
import { twMerge } from 'tailwind-merge';

// Für NativeWind: ClassName Merging
export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}

// Für StyleSheet: Style Merging
export function mergeStyles<T>(...styles: (T | undefined | null | false)[]): T {
  return Object.assign({}, ...styles.filter(Boolean)) as T;
}
```

### `npx nativeui add <component>`

Fügt Komponenten zum Projekt hinzu.

```bash
# Einzelne Komponente
npx nativeui add button

# Mehrere
npx nativeui add button card input select

# Ganzer Block
npx nativeui add blocks/login-01

# Mit Optionen
npx nativeui add button --path ./src/components
```

**Was passiert:**
1. Prüft Dependencies (installiert wenn nötig)
2. Prüft Registry-Dependencies (andere Komponenten)
3. Kopiert Source Files
4. Zeigt Usage Example

### `npx nativeui list`

Zeigt verfügbare Komponenten.

```bash
npx nativeui list              # Alle
npx nativeui list --type ui    # Nur UI
npx nativeui list --type blocks
npx nativeui list --installed  # Im Projekt vorhandene
```

### `npx nativeui diff <component>`

Zeigt Unterschiede zwischen lokaler und Registry-Version.

```bash
npx nativeui diff button
# Shows: Local version vs Registry version
```

### `npx nativeui update <component>`

Aktualisiert Komponente auf neueste Version.

```bash
npx nativeui update button
npx nativeui update --all
```

### `npx nativeui theme`

Theme-Management.

```bash
npx nativeui theme list           # Verfügbare Themes
npx nativeui theme add midnight   # Theme installieren
npx nativeui theme create         # Interaktiver Theme Creator
npx nativeui theme export         # Exportiert aktuelles Theme
```

## Config File

```typescript
// nativeui.config.ts
import { defineConfig } from '@nativeui/cli';

export default defineConfig({
  // Wo Komponenten landen
  componentsDir: './components/ui',

  // Styling Approach
  styling: 'nativewind', // | 'stylesheet' | 'hybrid'

  // Theme Customization
  theme: {
    colors: {
      primary: '#6366F1',
      secondary: '#EC4899',
    },
    radius: {
      default: 12,
    },
  },

  // Platform-spezifische Optionen
  platforms: {
    ios: {
      haptics: true,
      blur: true,
    },
    android: {
      ripple: true,
    },
  },

  // Aliases für Imports
  aliases: {
    '@/components': './components',
    '@/lib': './lib',
  },
});
```

## Implementation

```typescript
// packages/cli/src/index.ts
import { Command } from 'commander';

const program = new Command();

program
  .name('nativeui')
  .description('Modern UI components for Expo/React Native')
  .version('0.1.0');

program
  .command('init')
  .description('Initialize nativeui in your project')
  .option('-s, --styling <type>', 'Styling approach', 'hybrid')
  .action(initCommand);

program
  .command('add <components...>')
  .description('Add components to your project')
  .option('-p, --path <path>', 'Custom path')
  .option('-y, --yes', 'Skip confirmation')
  .action(addCommand);

// ...
```

## Tech Stack

- **Commander.js** – CLI Framework
- **Prompts** – Interactive Prompts
- **Chalk** – Terminal Styling
- **Ora** – Spinners
- **fs-extra** – File Operations
