# Feature: Internationalization (i18n)

RTL Support und Tools für mehrsprachige Apps.

## RTL Support

Alle Komponenten unterstützen Right-to-Left Layouts automatisch.

### Automatische Styles

```typescript
// Komponenten passen sich automatisch an
import { I18nManager } from 'react-native';

const styles = StyleSheet.create({
  container: {
    flexDirection: I18nManager.isRTL ? 'row-reverse' : 'row',
    textAlign: I18nManager.isRTL ? 'right' : 'left',
  },
});

// Oder mit Utility
import { rtl } from '@metacells/mcellui-core';

const styles = StyleSheet.create({
  container: {
    flexDirection: rtl('row', 'row-reverse'),
    paddingStart: 16, // Automatisch paddingLeft oder paddingRight
  },
});
```

### Logical Properties

```typescript
// Nutze logische statt physische Properties
const styles = StyleSheet.create({
  item: {
    // ✓ Gut - passt sich an RTL an
    marginStart: 8,
    marginEnd: 16,
    paddingStart: 12,
    borderStartWidth: 1,

    // ✗ Vermeiden - ignoriert RTL
    // marginLeft: 8,
    // marginRight: 16,
  },
});
```

### Icons

```tsx
// Icons die sich drehen sollten
<ChevronRight style={{ transform: [{ scaleX: I18nManager.isRTL ? -1 : 1 }] }} />

// Oder mit Utility Component
<RTLIcon name="chevron-right" />
```

## Text Length Testing

Teste UI mit verschiedenen Textlängen.

### Playground Feature

```
┌─────────────────────────────────────────────────────────┐
│  Text Variants                              [i18n ▼]   │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ○ Original                                             │
│  ○ Short (EN)                                           │
│  ○ Long (DE)        ← German tends to be longer         │
│  ○ Very Long (FI)   ← Finnish can be very long          │
│  ○ RTL (AR)         ← Arabic, right-to-left             │
│  ○ CJK (JA)         ← Japanese, different line breaks   │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### Text Variants

```typescript
const textVariants = {
  // Button Labels
  'button.submit': {
    original: 'Submit',
    short: 'OK',
    long: 'Absenden und bestätigen',
    veryLong: 'Lähetä ja vahvista tiedot',
    rtl: 'إرسال',
    cjk: '送信する',
  },

  // Placeholders
  'input.email': {
    original: 'Enter your email',
    short: 'Email',
    long: 'Geben Sie Ihre E-Mail-Adresse ein',
    rtl: 'أدخل بريدك الإلكتروني',
  },
};
```

### Testing Command

```bash
# Teste alle Komponenten mit verschiedenen Textlängen
npx mcellui test:i18n

# Output:
# Button
# ├── Short (OK): ✓ Fits
# ├── Long (DE): ⚠ Truncated at 20 chars
# └── RTL: ✓ Layout correct
```

## Locale-aware Components

### Date Picker

```tsx
<DatePicker
  locale="de-DE"
  // Zeigt: Mo, Di, Mi, Do, Fr, Sa, So
  // Statt: Mon, Tue, Wed, Thu, Fri, Sat, Sun
/>
```

### Number Input

```tsx
<NumberInput
  locale="de-DE"
  // Akzeptiert: 1.234,56
  // Statt: 1,234.56
/>
```

### Currency

```tsx
<CurrencyInput
  locale="de-DE"
  currency="EUR"
  // Zeigt: 1.234,56 €
/>
```

## RTL Preview

Im Playground kannst du jeden Component in RTL sehen.

```typescript
// Toggle im Playground
const [isRTL, setIsRTL] = useState(false);

<RTLProvider value={isRTL}>
  <ComponentPreview />
</RTLProvider>
```

## Best Practices

### Do

```tsx
// ✓ Nutze Start/End statt Left/Right
paddingStart: 16,
marginEnd: 8,
borderStartWidth: 1,

// ✓ Nutze logical Flex Direction
flexDirection: 'row', // Wird automatisch zu row-reverse in RTL

// ✓ Teste mit langen Texten
<Button>{t('submit')}</Button> // Kann lang sein in manchen Sprachen
```

### Don't

```tsx
// ✗ Hardcoded Left/Right
paddingLeft: 16,
marginRight: 8,

// ✗ Annahmen über Textlänge
// Text kann in anderen Sprachen viel länger sein

// ✗ Icons ohne RTL Flip
<ChevronRight /> // Muss in RTL gespiegelt werden
```

## Resources

- [React Native RTL Support](https://reactnative.dev/blog/2016/08/19/right-to-left-support-for-react-native-apps)
- [Material Design Bidirectionality](https://m3.material.io/foundations/layout/understanding-layout/overview#bidirectionality)
