# External Integrations

**Analysis Date:** 2026-01-24

## APIs & External Services

**GitHub:**
- Registry hosting: Components fetched from `https://raw.githubusercontent.com/metacells-development/mcellui/main/packages/registry`
  - Used by: CLI (`packages/cli/src/commands/add.ts`), MCP server
  - Env var: `MCELLUI_REGISTRY_URL` or `NATIVEUI_REGISTRY_URL` to override
  - Fallback: Default GitHub raw content URL

**Figma Plugin API:**
- Used in: `packages/figma-plugin/`
- SDK: `@figma/plugin-typings` ^1.96.0
- Purpose: Design token sync and component export
- No external API calls; runs entirely within Figma

**npm Registry:**
- Package publishing target: `https://registry.npmjs.org`
- Authentication: `NPM_TOKEN` secret in GitHub Actions
- Packages published: `@metacells/mcellui-cli`, `@metacells/mcellui-core`, `@metacells/mcellui-mcp-server`
- Workflow: `.github/workflows/release.yml` - automated on git tag

## Data Storage

**Databases:**
- None - This is a component library, not an app
- No persistent data storage required

**File Storage:**
- Local filesystem only
- Demo app uses Expo's asset bundling
- No cloud storage dependencies

**Caching:**
- Registry cache: In-memory cache in MCP server (`packages/mcp-server/src/tools/index.ts`)
- Component code cache: Stored in memory during CLI operations
- No persistent cache layer

## Authentication & Identity

**Auth Provider:**
- None required for component library itself
- GitHub: Used implicitly for registry fetching (public repo)
- npm: Publishing uses `NPM_TOKEN` environment variable (GitHub Actions only)

**MCP Server Authentication:**
- Model Context Protocol handles auth via stdio transport
- Integrates with Claude/Anthropic's auth flow
- No separate credential management needed

## Monitoring & Observability

**Error Tracking:**
- None integrated
- Console logging in CLI and MCP tools for debugging
- Demo app logs available via Expo debugging tools

**Logs:**
- CLI: `chalk` for colored console output with spinners (`ora`)
- Demo app: React Native console via Expo CLI or device logs
- MCP server: stderr output (`console.error`)
- No centralized logging service

**CI/CD & Quality Monitoring:**
- GitHub Actions: `.github/workflows/ci.yml`, `.github/workflows/release.yml`, `.github/workflows/codeql.yml`
- CodeQL: Weekly security scanning and PR checks
- No external monitoring service (pure GitHub Actions)

## CI/CD & Deployment

**Hosting:**
- Demo app: Expo-hosted (can be deployed to Expo/EAS)
- Documentation site: Next.js 15 (ready for Vercel/Netlify)
- Component library: npm registry

**CI Pipeline:**
- GitHub Actions (`.github/workflows/`)
  - `ci.yml`: Lint, TypeCheck, Build on every PR and push to main
  - `release.yml`: npm publish on git tags (v*)
  - `codeql.yml`: Security scanning (weekly + on PRs)
  - No third-party CI services (uses GitHub Actions exclusively)

**Dependency Management:**
- Dependabot: `.github/dependabot.yml` configured
  - Weekly checks for npm and GitHub Actions updates
  - Grouped minor/patch updates

## Environment Configuration

**Required env vars:**
- None for component library
- For CLI/MCP: `MCELLUI_REGISTRY_URL` or `NATIVEUI_REGISTRY_URL` (optional, defaults to GitHub)
- For npm publishing: `NPM_TOKEN` (GitHub Actions only)

**Secrets location:**
- GitHub repository settings: `NPM_TOKEN` for automated npm publishing
- No local `.env` files in monorepo

**Configuration Files:**
- User projects: `mcellui.config.ts` (optional, auto-generated by CLI)
- Metro bundler: Plugin auto-discovery via `packages/metro-plugin/`
- Expo: `app.json` in demo app

## Webhooks & Callbacks

**Incoming:**
- None - This is a component library

**Outgoing:**
- GitHub Actions: Publishes packages to npm on tag push
- No other external service callbacks

## Package Management & Distribution

**npm Packages Published:**
- `@metacells/mcellui-cli` - Command-line tool for component installation
- `@metacells/mcellui-core` - Design tokens and theme system
- `@metacells/mcellui-mcp-server` - MCP server for AI integration

**Private Monorepo Packages:**
- `@metacells/mcellui-registry` - Source components (used internally)
- `@metacells/mcellui-demo` - Demo application
- `@metacells/mcellui-figma-plugin` - Figma plugin
- `@metacells/mcellui-metro-plugin` - Metro bundler integration
- `@mcellui/docs` - Documentation website

## Design & Development Tools

**Figma Integration:**
- `@figma/plugin-typings` ^1.96.0
- Plugin runs in Figma iframe (no external API calls)
- Purpose: Export design tokens and component specs
- Files: `packages/figma-plugin/`

**Documentation:**
- Fumadocs 15.0.0 - Open-source MDX documentation
- Shiki 1.22.2 - Syntax highlighting
- All markdown stored in repo (no external doc service)

## Registry Architecture

**Component Registry:**
- Format: `registry.json` in `packages/registry/`
- Fetching: CLI and MCP server fetch from GitHub
- Caching: In-memory cache with no persistence
- Structure: Lists component metadata (name, type, category, files, dependencies)
- Used by: `npx mcellui add`, `npx mcellui list`, MCP component tools

**Runtime Registry Access:**
- `packages/cli/src/utils/registry.ts` - Fetch and parse registry
- `packages/mcp-server/src/tools/index.ts` - Component metadata and code fetching
- Fallback URL chain: `MCELLUI_REGISTRY_URL` → `NATIVEUI_REGISTRY_URL` → GitHub default

## No External Service Dependencies

**Notably absent:**
- No database (MongoDB, PostgreSQL, Supabase, Firebase)
- No backend API server
- No authentication service (Auth0, Firebase Auth, Cognito)
- No analytics (Mixpanel, Amplitude, Google Analytics)
- No error tracking (Sentry, Rollbar)
- No storage service (AWS S3, Cloudinary)
- No payment processing (Stripe, PayPal)
- No email service (SendGrid, Mailgun)
- No CDN (Cloudflare, Akamai)
- No monitoring (DataDog, New Relic)

**Rationale:** mcellui is a copy-paste component library - it provides code that users copy into their own projects. The library itself is stateless with no backend requirements.

---

*Integration audit: 2026-01-24*
