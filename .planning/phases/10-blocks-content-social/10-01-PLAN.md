# Plan 10-01: Content & Social Block Token Extension

```yaml
phase: 10-blocks-content-social
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/core/src/theme/components.ts
autonomous: true

must_haves:
  truths:
    - "All card blocks use unified shadow depth ('sm')"
    - "Typography values are tokenized (not hardcoded)"
    - "Social blocks have standardized icon size and touch targets"
  artifacts:
    - path: "packages/core/src/theme/components.ts"
      provides: "cardBlockTokens, socialBlockTokens, ecommerceBlockTokens"
      exports: ["cardBlockTokens", "socialBlockTokens", "ecommerceBlockTokens"]
  key_links:
    - from: "packages/core/src/theme/components.ts"
      to: "components export object"
      via: "cardBlock, socialBlock, ecommerceBlock properties"
      pattern: "cardBlock:|socialBlock:|ecommerceBlock:"
```

<objective>
Extend the theme components.ts with block-specific token groups for Phase 10 content and social blocks.

Purpose: Provide unified visual patterns for card blocks and social blocks to ensure consistent spacing, shadows, and typography.
Output: Three new token groups (cardBlockTokens, socialBlockTokens, ecommerceBlockTokens) exported from components.ts.
</objective>

<execution_context>
@/Users/johanneschristler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/johanneschristler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-blocks-content-social/10-RESEARCH.md
@packages/core/src/theme/components.ts
</context>

<tasks>

<task type="auto">
  <name>Add contentSocialBlockTokens to components.ts</name>
  <files>packages/core/src/theme/components.ts</files>
  <action>
1. Read packages/core/src/theme/components.ts to understand current structure
2. Add contentSocialBlockTokens constant after settingsBlockTokens (~line 1019):
```typescript
// =============================================================================
// Content & Social Block Tokens (Phase 10)
// =============================================================================

/**
 * Shared card block visual tokens
 * Used by: ProductCard, ArticleCard, EventCard, ReviewCard
 */
export const cardBlockTokens = {
  shadow: 'sm' as const,
  borderWidth: 1,
  image: {
    productAspectRatio: 1,
    articleAspectRatio: 1.78,
    eventAspectRatio: 2.4,
    reviewAspectRatio: 1,
  },
  header: {
    paddingVertical: spacing[3],
    paddingHorizontal: spacing[4],
    gap: spacing[2],
  },
  content: {
    paddingVertical: spacing[3],
    paddingHorizontal: spacing[4],
    gap: spacing[1.5],
  },
  footer: {
    paddingVertical: spacing[3],
    paddingHorizontal: spacing[4],
    gap: spacing[2],
  },
  typography: {
    titleFontSize: fontSize.md,
    titleFontWeight: fontWeight.semibold,
    subtitleFontSize: fontSize.base,
    priceFontSize: fontSize.lg,
    priceFontWeight: fontWeight.bold,
    metaFontSize: fontSize.sm,
  },
} as const;

/**
 * Social interaction block tokens
 * Used by: FeedPostCard, ChatBubble, CommentItem, UserListItem
 */
export const socialBlockTokens = {
  action: {
    iconSize: iconSize.md,
    gap: spacing[1],
    touchTarget: 44,
  },
  avatar: {
    postSize: 'md' as const,
    commentSize: 'sm' as const,
    chatSize: 'sm' as const,
    listSize: 'md' as const,
  },
  bubble: {
    maxWidth: '75%',
    paddingVertical: spacing[2],
    paddingHorizontal: spacing[3],
    ownBackground: 'primary' as const,
    otherBackground: 'secondary' as const,
  },
  comment: {
    indentPerLevel: spacing[6],
    maxNestingLevels: 3,
  },
  typography: {
    authorFontSize: fontSize.base,
    authorFontWeight: fontWeight.semibold,
    contentFontSize: fontSize.md,
    contentLineHeight: 22,
    timeFontSize: fontSize.sm,
    actionFontSize: fontSize.sm,
  },
} as const;

/**
 * E-commerce block tokens
 * Used by: ProductCard, CartItem
 */
export const ecommerceBlockTokens = {
  product: {
    badgePosition: { top: spacing[2], left: spacing[2] },
    wishlistPosition: { top: spacing[2], right: spacing[2] },
    ratingSize: 'sm' as const,
  },
  cart: {
    imageSize: 80,
    stepperSize: 'sm' as const,
    swipeActionWidth: 80,
  },
  pricing: {
    originalPriceOpacity: 0.6,
    originalPriceDecoration: 'line-through' as const,
    discountColor: 'destructive' as const,
  },
} as const;
```
3. Add these token groups to the components export object (~line 1262):
```typescript
export const components = {
  // ... existing tokens ...
  cardBlock: cardBlockTokens,
  socialBlock: socialBlockTokens,
  ecommerceBlock: ecommerceBlockTokens,
  // ... rest of existing ...
} as const;
```
  </action>
  <verify>
cd /Users/johanneschristler/Code/metacells/other/mcellui && grep -n "cardBlockTokens\|socialBlockTokens\|ecommerceBlockTokens" packages/core/src/theme/components.ts | head -20
npx tsc --noEmit -p packages/core/tsconfig.json
  </verify>
  <done>
- cardBlockTokens exported with shadow, typography, padding tokens
- socialBlockTokens exported with action, avatar, bubble, comment tokens
- ecommerceBlockTokens exported with product, cart, pricing tokens
- TypeScript compiles without errors
  </done>
</task>

</tasks>

<verification>
```bash
# Token export verification
cd /Users/johanneschristler/Code/metacells/other/mcellui
grep -n "cardBlockTokens\|socialBlockTokens\|ecommerceBlockTokens" packages/core/src/theme/components.ts | head -20

# TypeScript compilation
npx tsc --noEmit -p packages/core/tsconfig.json

# Token structure verification
grep -A 5 "cardBlock:" packages/core/src/theme/components.ts
```
</verification>

<success_criteria>
- [ ] cardBlockTokens.shadow provides unified shadow depth ('sm') for all cards
- [ ] cardBlockTokens.typography provides consistent font sizes (title: md, subtitle: base, price: lg)
- [ ] socialBlockTokens.action provides standardized icon size (20px) and touch targets (44px)
- [ ] socialBlockTokens.typography provides consistent author/content/time font sizes
- [ ] ecommerceBlockTokens provides product-specific values (badge position, cart image size)
- [ ] TypeScript compiles without errors
</success_criteria>

<output>
After completion, create `.planning/phases/10-blocks-content-social/10-01-SUMMARY.md`
</output>
