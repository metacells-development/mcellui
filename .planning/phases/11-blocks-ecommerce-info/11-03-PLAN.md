---
phase: 11-blocks-ecommerce-info
plan: 03
type: execute
wave: 2
depends_on: ["11-01"]
files_modified:
  - packages/registry/blocks/pricing-card.tsx
  - packages/registry/blocks/stats-card.tsx
autonomous: true

must_haves:
  truths:
    - "PricingCard uses ecommerceBlockTokens for typography"
    - "StatsCard uses ecommerceBlockTokens for typography"
    - "No hardcoded font sizes in Pricing or Stats blocks"
  artifacts:
    - path: "packages/registry/blocks/pricing-card.tsx"
      provides: "Token-based PricingCard"
      contains: "ecommerceBlockTokens"
    - path: "packages/registry/blocks/stats-card.tsx"
      provides: "Token-based StatsCard"
      contains: "ecommerceBlockTokens"
  key_links:
    - from: "packages/registry/blocks/pricing-card.tsx"
      to: "@metacells/mcellui-core"
      via: "ecommerceBlockTokens import"
      pattern: "ecommerceBlockTokens\\.pricing"
---

<objective>
Migrate PricingCard and StatsCard to use centralized ecommerceBlockTokens instead of hardcoded typography values.

Purpose: Replace hardcoded typography with centralized tokens so these data-focused blocks are theme-consistent and customizable.

Output: Updated pricing-card.tsx and stats-card.tsx using ecommerceBlockTokens from @metacells/mcellui-core.
</objective>

<execution_context>
@/Users/johanneschristler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/johanneschristler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/11-blocks-ecommerce-info/11-01-SUMMARY.md
@packages/registry/blocks/pricing-card.tsx
@packages/registry/blocks/stats-card.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate PricingCard to ecommerceBlockTokens</name>
  <files>packages/registry/blocks/pricing-card.tsx</files>
  <action>
1. Add ecommerceBlockTokens to the import from @metacells/mcellui-core:
   ```typescript
   import { useTheme, ecommerceBlockTokens } from '@metacells/mcellui-core';
   ```

2. In the component body, access tokens:
   ```typescript
   const pricingTokens = ecommerceBlockTokens.pricing;
   ```

3. Update inline styles to use tokens. Replace hardcoded values:

   For plan name (styles.planName):
   ```typescript
   <Text style={[styles.planName, {
     color: colors.foreground,
     fontSize: pricingTokens.planNameFontSize,
     fontWeight: String(pricingTokens.planNameFontWeight) as any,
   }]}>
   ```

   For description:
   ```typescript
   <Text style={[styles.description, {
     color: colors.foregroundMuted,
     marginTop: spacing[1],
     fontSize: pricingTokens.descriptionFontSize,
   }]}>
   ```

   For price:
   ```typescript
   <Text style={[styles.price, {
     color: colors.foreground,
     fontSize: pricingTokens.priceFontSize,
     fontWeight: String(pricingTokens.priceFontWeight) as any,
     lineHeight: pricingTokens.priceLineHeight,
   }]}>
   ```

   For interval:
   ```typescript
   <Text style={[styles.interval, {
     color: colors.foregroundMuted,
     fontSize: pricingTokens.intervalFontSize,
     fontWeight: String(pricingTokens.intervalFontWeight) as any,
   }]}>
   ```

   For original price:
   ```typescript
   <Text style={[styles.originalPrice, {
     color: colors.foregroundMuted,
     fontSize: pricingTokens.originalPriceFontSize,
   }]}>
   ```

   For savings:
   ```typescript
   <Text style={[styles.savings, {
     color: colors.success,
     fontSize: pricingTokens.savingsFontSize,
     fontWeight: String(pricingTokens.savingsFontWeight) as any,
   }]}>
   ```

   For feature text:
   ```typescript
   <Text style={[styles.featureText, {
     color: feature.included ? colors.foreground : colors.foregroundMuted,
     fontSize: pricingTokens.featureTextFontSize,
   }]}>
   ```

   For feature icon container:
   ```typescript
   <View style={[styles.featureIcon, {
     width: pricingTokens.featureIconSize,
     height: pricingTokens.featureIconSize,
     ...
   }]}>
   ```

   Update check/x icon sizes:
   ```typescript
   <CheckIcon size={pricingTokens.featureIconInnerSize} color={colors.success} />
   <XIcon size={pricingTokens.featureIconInnerSize} color={colors.foregroundMuted} />
   ```

   For badge container top offset:
   ```typescript
   <View style={[styles.badgeContainer, { top: pricingTokens.badgeTopOffset }]}>
   ```

4. Remove hardcoded fontSize/fontWeight from StyleSheet styles (keep structural styles only).
  </action>
  <verify>TypeScript compiles: `cd packages/registry && npx tsc --noEmit`</verify>
  <done>PricingCard uses ecommerceBlockTokens.pricing for all typography</done>
</task>

<task type="auto">
  <name>Task 2: Migrate StatsCard to ecommerceBlockTokens</name>
  <files>packages/registry/blocks/stats-card.tsx</files>
  <action>
1. Add ecommerceBlockTokens to the import from @metacells/mcellui-core:
   ```typescript
   import { useTheme, ecommerceBlockTokens } from '@metacells/mcellui-core';
   ```

2. In the component body, access tokens:
   ```typescript
   const statsTokens = ecommerceBlockTokens.stats;
   ```

3. Update inline styles to use tokens:

   For label:
   ```typescript
   <Text style={[styles.label, {
     color: colors.foregroundMuted,
     fontSize: statsTokens.labelFontSize,
     fontWeight: String(statsTokens.labelFontWeight) as any,
   }]}>
   ```

   For value:
   ```typescript
   <Text style={[styles.value, {
     color: colors.foreground,
     marginTop: spacing[2],
     fontSize: statsTokens.valueFontSize,
     fontWeight: String(statsTokens.valueFontWeight) as any,
   }]}>
   ```

   For trend:
   ```typescript
   <Text style={[styles.trend, {
     color: trendColor,
     fontSize: statsTokens.trendFontSize,
     fontWeight: String(statsTokens.trendFontWeight) as any,
   }]}>
   ```

   For trend label:
   ```typescript
   <Text style={[styles.trendLabel, {
     color: colors.foregroundMuted,
     marginLeft: spacing[1],
     fontSize: statsTokens.trendLabelFontSize,
   }]}>
   ```

4. Remove hardcoded fontSize/fontWeight from StyleSheet styles (keep structural styles only).
  </action>
  <verify>TypeScript compiles: `cd packages/registry && npx tsc --noEmit`</verify>
  <done>StatsCard uses ecommerceBlockTokens.stats for all typography</done>
</task>

</tasks>

<verification>
1. TypeScript compilation passes for packages/registry
2. PricingCard no longer has hardcoded fontSize: 20, 40, 16, 14, 13
3. StatsCard no longer has hardcoded fontSize: 14, 32, 14, 13
4. Both blocks import ecommerceBlockTokens from @metacells/mcellui-core
</verification>

<success_criteria>
- PricingCard uses tokens for all typography (plan name, price, interval, features)
- StatsCard uses tokens for all typography (label, value, trend)
- No hardcoded font sizes remain in either block
- TypeScript compiles without errors
</success_criteria>

<output>
After completion, create `.planning/phases/11-blocks-ecommerce-info/11-03-SUMMARY.md`
</output>
