---
phase: 21-demo-consistency-validation
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/demo/components/blocks/login-block.tsx
  - apps/demo/components/blocks/signup-block.tsx
  - apps/demo/components/blocks/profile-block.tsx
  - apps/demo/components/blocks/settings-list-block.tsx
  - apps/demo/components/blocks/stats-card-block.tsx
  - apps/demo/components/blocks/feed-post-card-block.tsx
autonomous: true

must_haves:
  truths:
    - "Block typography uses theme tokens instead of hardcoded values"
    - "Block colors remain on semantic tokens (already migrated)"
    - "Blocks render correctly in both light and dark mode"
  artifacts:
    - path: "apps/demo/components/blocks/login-block.tsx"
      provides: "Theme-adaptive login form"
      contains: "fontSize.xl"
    - path: "apps/demo/components/blocks/signup-block.tsx"
      provides: "Theme-adaptive signup form"
      contains: "fontSize.xl"
  key_links:
    - from: "apps/demo/components/blocks/*.tsx"
      to: "useTheme()"
      via: "typography token access"
      pattern: "fontSize\\["
---

<objective>
Migrate demo app block files from hardcoded typography to theme tokens

Purpose: Block files (login-block, signup-block, etc.) have ~44 hardcoded fontSize values. These blocks are user-facing reusable sections and should demonstrate proper token usage. Colors and spacing are already migrated - only typography remains.

Output: All 16 block files use typography tokens (fontSize, fontWeight) from useTheme()
</objective>

<execution_context>
@/Users/johanneschristler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/johanneschristler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/21-demo-consistency-validation/21-RESEARCH.md
@apps/demo/components/blocks/login-block.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate typography in auth blocks (login, signup)</name>
  <files>
apps/demo/components/blocks/login-block.tsx
apps/demo/components/blocks/signup-block.tsx
  </files>
  <action>
Both files have similar typography patterns. Update useTheme() destructuring to include fontSize and fontWeight:
```tsx
const { colors, spacing, radius, fontSize, fontWeight } = useTheme();
```

Replace hardcoded fontSize values:
- `fontSize: 28` -> `fontSize: fontSize['2xl']` (title - 24px is close enough per Phase 20 decision)
- `fontSize: 16` -> `fontSize: fontSize.md`
- `fontSize: 14` -> `fontSize: fontSize.base`
- `fontSize: 12` -> `fontSize: fontSize.sm`

Replace hardcoded fontWeight values:
- `fontWeight: '700'` -> `fontWeight: fontWeight.bold`
- `fontWeight: '600'` -> `fontWeight: fontWeight.semibold`
- `fontWeight: '500'` -> `fontWeight: fontWeight.medium`
- `fontWeight: '400'` -> `fontWeight: fontWeight.normal`

Move typography from StyleSheet to inline styles since tokens are dynamic. Keep static layout properties in StyleSheet.

Example pattern:
```tsx
// BEFORE
<Text style={styles.title}>Welcome back</Text>
const styles = StyleSheet.create({
  title: { fontSize: 28, fontWeight: '700', color: colors.foreground },
});

// AFTER
<Text style={[styles.title, { fontSize: fontSize['2xl'], fontWeight: fontWeight.bold }]}>
  Welcome back
</Text>
const styles = StyleSheet.create({
  title: { /* layout only */ },
});
```
  </action>
  <verify>
grep -E "fontSize:\s*\d+" apps/demo/components/blocks/login-block.tsx apps/demo/components/blocks/signup-block.tsx should return 0 matches.
  </verify>
  <done>
login-block.tsx and signup-block.tsx use typography tokens for all text styling.
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate typography in profile and settings blocks</name>
  <files>
apps/demo/components/blocks/profile-block.tsx
apps/demo/components/blocks/settings-list-block.tsx
  </files>
  <action>
Apply same typography migration pattern:

profile-block.tsx (~5 fontSize values):
- `fontSize: 24` -> `fontSize: fontSize['2xl']`
- `fontSize: 14` -> `fontSize: fontSize.base`
- `fontSize: 13` -> `fontSize: fontSize.sm` (round up per Phase 20 decision)
- `fontSize: 12` -> `fontSize: fontSize.sm`

settings-list-block.tsx (~6 fontSize values):
- `fontSize: 16` -> `fontSize: fontSize.md`
- `fontSize: 14` -> `fontSize: fontSize.base`
- `fontSize: 13` -> `fontSize: fontSize.sm`
- `fontSize: 12` -> `fontSize: fontSize.sm`

Update useTheme() destructuring and move typography to inline styles.
  </action>
  <verify>
grep -E "fontSize:\s*\d+" apps/demo/components/blocks/profile-block.tsx apps/demo/components/blocks/settings-list-block.tsx should return 0 matches.
  </verify>
  <done>
profile-block.tsx and settings-list-block.tsx use typography tokens.
  </done>
</task>

<task type="auto">
  <name>Task 3: Migrate typography in remaining blocks</name>
  <files>
apps/demo/components/blocks/stats-card-block.tsx
apps/demo/components/blocks/feed-post-card-block.tsx
apps/demo/components/blocks/hero-block.tsx
apps/demo/components/blocks/feature-card-block.tsx
apps/demo/components/blocks/notification-item-block.tsx
apps/demo/components/blocks/onboarding-slide-block.tsx
apps/demo/components/blocks/content-card-block.tsx
apps/demo/components/blocks/social-proof-bar-block.tsx
apps/demo/components/blocks/empty-state-block.tsx
apps/demo/components/blocks/error-state-block.tsx
apps/demo/components/blocks/media-item-block.tsx
apps/demo/components/blocks/search-header-block.tsx
  </files>
  <action>
Apply typography migration to remaining block files. Each has 1-4 fontSize values.

Typography mapping reference:
- 32, 30, 28 -> fontSize['3xl'] or fontSize['2xl']
- 24, 22, 20 -> fontSize.xl or fontSize['2xl']
- 18 -> fontSize.lg
- 16 -> fontSize.md
- 14 -> fontSize.base
- 13, 12 -> fontSize.sm
- 11, 10 -> fontSize.xs

IMPORTANT for hero-block.tsx: Keep gradient preset colors hardcoded (lines 54-73 meshGradients). Only migrate UI text typography, not decorative gradient colors.

Also keep text overlay colors (#FFFFFF, rgba(255,255,255,0.9)) in hero-block - these are intentional for readability on gradient backgrounds.
  </action>
  <verify>
for f in apps/demo/components/blocks/*.tsx; do grep -l "fontSize:\s*[0-9]" "$f" 2>/dev/null; done
Should return empty (no files with hardcoded fontSize).
  </verify>
  <done>
All 16 block files use typography tokens. Hero-block gradient colors remain intentionally hardcoded.
  </done>
</task>

</tasks>

<verification>
1. `grep -rE "fontSize:\s*\d+" apps/demo/components/blocks/` should return 0 matches
2. `grep -rE "fontWeight:\s*['\"]" apps/demo/components/blocks/` should return 0 matches
3. Run demo app and navigate to blocks - should render without errors
4. Toggle dark mode - blocks should adapt correctly
</verification>

<success_criteria>
- All 16 block files use fontSize tokens
- All fontWeight values use tokens
- Hero-block gradient presets remain hardcoded (intentional)
- No visual regressions in block rendering
- Blocks work in both light and dark mode
</success_criteria>

<output>
After completion, create `.planning/phases/21-demo-consistency-validation/21-02-SUMMARY.md`
</output>
