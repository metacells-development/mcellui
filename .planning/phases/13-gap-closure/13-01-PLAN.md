---
phase: 13-gap-closure
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/registry/screens/checkout-screen.tsx
autonomous: true

must_haves:
  truths:
    - "CheckoutScreen StepIndicator receives fontSize and fontWeight as props"
    - "No undefined variable references in StepIndicator function"
  artifacts:
    - path: "packages/registry/screens/checkout-screen.tsx"
      provides: "Fixed StepIndicator function with proper prop passing"
      contains: "fontSize.*fontWeight.*StepIndicator"
  key_links:
    - from: "CheckoutScreen component"
      to: "StepIndicator function"
      via: "fontSize and fontWeight props"
      pattern: "fontSize={fontSize}.*fontWeight={fontWeight}"
---

<objective>
Fix CheckoutScreen StepIndicator function to receive fontSize and fontWeight as props.

Purpose: The StepIndicator helper function uses fontSize and fontWeight variables but they're not in scope - they're destructured from useTheme() in the parent CheckoutScreen component.
Output: StepIndicator function properly receives and uses fontSize/fontWeight props.
</objective>

<execution_context>
@/Users/johanneschristler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/johanneschristler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/v1-MILESTONE-AUDIT.md
@packages/registry/screens/checkout-screen.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add fontSize and fontWeight to StepIndicator props</name>
  <files>packages/registry/screens/checkout-screen.tsx</files>
  <action>
Update the StepIndicator function definition to accept fontSize and fontWeight as props:

1. Find the StepIndicator function definition (around line 143):
```typescript
function StepIndicator({
  steps,
  currentStep,
  colors,
  spacing,
}: {
  steps: { key: CheckoutStep; label: string }[];
  currentStep: CheckoutStep;
  colors: any;
  spacing: any;
}) {
```

2. Add fontSize and fontWeight to the props:
```typescript
function StepIndicator({
  steps,
  currentStep,
  colors,
  spacing,
  fontSize,
  fontWeight,
}: {
  steps: { key: CheckoutStep; label: string }[];
  currentStep: CheckoutStep;
  colors: any;
  spacing: any;
  fontSize: any;
  fontWeight: any;
}) {
```

3. Find where StepIndicator is called (in the CheckoutScreen render, around line 270-280) and add the missing props:

Before:
```typescript
<StepIndicator
  steps={steps}
  currentStep={currentStep}
  colors={colors}
  spacing={spacing}
/>
```

After:
```typescript
<StepIndicator
  steps={steps}
  currentStep={currentStep}
  colors={colors}
  spacing={spacing}
  fontSize={fontSize}
  fontWeight={fontWeight}
/>
```
  </action>
  <verify>
grep "fontSize={fontSize}" packages/registry/screens/checkout-screen.tsx
grep "fontWeight={fontWeight}" packages/registry/screens/checkout-screen.tsx
# Both should match the StepIndicator call
grep -A10 "function StepIndicator" packages/registry/screens/checkout-screen.tsx | grep "fontSize"
# Should show fontSize in the props type
  </verify>
  <done>StepIndicator function receives fontSize and fontWeight as props, eliminating undefined variable references</done>
</task>

</tasks>

<verification>
After completing all tasks:

1. TypeScript check: `cd packages/registry && npx tsc --noEmit 2>&1 | grep checkout-screen` should show no errors
2. Prop passing: `grep "fontSize={fontSize}" packages/registry/screens/checkout-screen.tsx` should match
3. Function signature: `grep -A8 "function StepIndicator" packages/registry/screens/checkout-screen.tsx` should include fontSize and fontWeight
</verification>

<success_criteria>
- StepIndicator function signature includes fontSize and fontWeight parameters
- StepIndicator call site passes fontSize={fontSize} and fontWeight={fontWeight}
- No undefined variable references in StepIndicator function
- TypeScript compiles without errors for checkout-screen.tsx
</success_criteria>

<output>
After completion, create `.planning/phases/13-gap-closure/13-01-SUMMARY.md`
</output>
