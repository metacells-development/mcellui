---
phase: 16-mcp-server-tool-quality
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/mcp-server/src/tools/index.ts
autonomous: true

must_haves:
  truths:
    - "Every tool description includes a one-liner + 'Use this when...' hint"
    - "Every parameter has a description with an inline example value"
    - "Optional parameters have explicit default values in the schema"
    - "mcellui_suggest_component has a maxResults parameter"
    - "mcellui_search and mcellui_list_components have clearly differentiated descriptions"
  artifacts:
    - path: "packages/mcp-server/src/tools/index.ts"
      provides: "Improved tool definitions with rich descriptions and flat schemas"
      contains: "Use this when"
  key_links:
    - from: "packages/mcp-server/src/tools/index.ts"
      to: "MCP tool listing"
      via: "tools array export"
      pattern: "export const tools"
---

<objective>
Improve all 9 MCP tool descriptions and schemas for AI agent consumption.

Purpose: Agents pick the right tool based on descriptions alone. Vague descriptions cause wrong tool selection or clarifying questions. Rich schemas with defaults let agents omit optional params confidently.

Output: Updated `tools` array in `packages/mcp-server/src/tools/index.ts` with improved descriptions, parameter examples, and schema defaults.
</objective>

<execution_context>
@/Users/johanneschristler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/johanneschristler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/16-mcp-server-tool-quality/16-RESEARCH.md
@.planning/phases/16-mcp-server-tool-quality/16-CONTEXT.md
@packages/mcp-server/src/tools/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rewrite all 9 tool descriptions and schemas</name>
  <files>packages/mcp-server/src/tools/index.ts</files>
  <action>
Update the `tools` array (lines 152-294) with improved descriptions and schemas. Apply these patterns:

**Description format:** `"{Action} {what}: {details}. Use this when {scenario}."`

**Schema improvements:**
- Add `default` to all optional parameters
- Add inline examples in parameter descriptions: `(e.g., "button", "card")`
- Add `maxResults` parameter to `mcellui_suggest_component` (type: number, default: 5, min: 1, max: 10)

**Specific tool updates:**

1. `mcellui_list_components`:
   - Description: `"List all available mcellui components grouped by category. Use this when you need to browse or discover components. Returns names, descriptions, and status for each component."`
   - Add `default` to category and type params

2. `mcellui_get_component`:
   - Description is already good. Add: `"Returns description, props table, usage example, and installation command."`

3. `mcellui_get_component_source`:
   - Description: `"Get the full TypeScript source code for a component. Use this when you need to see the complete implementation, modify it, or understand internal logic."`

4. `mcellui_add_component`:
   - Description: `"Get installation instructions for a component: CLI command, peer dependencies, and required components. Use this when you need to add a component to a project."`

5. `mcellui_suggest_component`:
   - Description: `"Get ranked component suggestions based on a natural language description of what you want to build. Use this when the user describes a UI need but doesn't name specific components."`
   - Add `maxResults` param: `{ type: 'number', description: 'Maximum suggestions to return (default: 5, max: 10)', default: 5, minimum: 1, maximum: 10 }`

6. `mcellui_create_component`:
   - Description: `"Get a starter template and guide for creating a new custom component. Use this when building a component that doesn't exist in the registry."`
   - Add `default: 'basic'` to template, `default: false` to withForwardRef

7. `mcellui_customize_theme`:
   - Description: `"Get guidance on customizing the mcellui theme: colors, radius, fonts, or all aspects. Use this when the user wants to change the visual style of their app."`
   - Add `default: 'all'` to aspect

8. `mcellui_doctor`:
   - Description: `"Diagnose common mcellui project setup issues: missing config, dependencies, babel plugins. Use this when components don't render or the project won't start."`

9. `mcellui_search`:
   - Description: `"Search components by name, description, or category keyword. Use this when you know a keyword but not the exact component name. For browsing all components, use mcellui_list_components instead."`
   - Add example to query: `(e.g., "modal", "form", "loading")`

**Do NOT modify** the `handleToolCall` function, `componentKeywords` map, or any helper functions. Only change the `tools` array.
  </action>
  <verify>
Run `npx tsc --noEmit` from `packages/mcp-server` to verify TypeScript compiles.
Grep for "Use this when" in tools/index.ts — should find 9 matches (one per tool).
Grep for "default" in the tools array section — should find defaults for optional params.
  </verify>
  <done>
All 9 tool definitions have "Use this when..." descriptions, parameter examples, and explicit defaults on optional parameters. mcellui_suggest_component has maxResults parameter. search and list have clearly differentiated descriptions.
  </done>
</task>

</tasks>

<verification>
- `grep -c "Use this when" packages/mcp-server/src/tools/index.ts` returns 9
- `grep "maxResults" packages/mcp-server/src/tools/index.ts` finds the new parameter
- `grep "default:" packages/mcp-server/src/tools/index.ts` finds defaults for optional params
- TypeScript compiles without errors
</verification>

<success_criteria>
All 9 MCP tool descriptions follow the "{Action} {what}. Use this when..." pattern with parameter examples and schema defaults. Requirements MCP-01 and MCP-04 are satisfied for the tool definitions.
</success_criteria>

<output>
After completion, create `.planning/phases/16-mcp-server-tool-quality/16-01-SUMMARY.md`
</output>
