---
phase: 06-layout-structure
plan: 04
type: execute
wave: 3
depends_on: ["06-02", "06-03"]
files_modified:
  - apps/demo/components/demos/row-demo.tsx
  - apps/demo/components/demos/column-demo.tsx
  - apps/demo/components/demos/screen-demo.tsx
autonomous: true

must_haves:
  truths:
    - "Row demo uses theme tokens for all spacing and typography"
    - "Column demo uses theme tokens for all spacing and typography"
    - "Screen demo uses theme tokens for all spacing and typography"
  artifacts:
    - path: "apps/demo/components/demos/row-demo.tsx"
      provides: "Token-based Row demo"
      contains: "useTheme"
    - path: "apps/demo/components/demos/column-demo.tsx"
      provides: "Token-based Column demo"
      contains: "useTheme"
    - path: "apps/demo/components/demos/screen-demo.tsx"
      provides: "Token-based Screen demo"
      contains: "useTheme"
  key_links:
    - from: "apps/demo/components/demos/row-demo.tsx"
      to: "@metacells/mcellui-core"
      via: "useTheme hook"
      pattern: "spacing\\[|fontSize\\.|radius\\."
---

<objective>
Migrate Row, Column, and Screen demo files to use theme tokens

Purpose: Replace hardcoded styling values in demo files with theme tokens for consistent appearance across themes and proper dark mode support.

Output: Three demo files using tokens instead of hardcoded values
</objective>

<execution_context>
@/Users/johanneschristler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/johanneschristler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/06-layout-structure/06-RESEARCH.md
@.planning/phases/06-layout-structure/06-03-SUMMARY.md
@apps/demo/components/demos/row-demo.tsx
@apps/demo/components/demos/column-demo.tsx
@apps/demo/components/demos/screen-demo.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate Row demo to theme tokens</name>
  <files>apps/demo/components/demos/row-demo.tsx</files>
  <action>
Replace hardcoded values with theme tokens. Key changes:

1. Import more from useTheme:
```typescript
const { colors, spacing, fontSize, fontWeight, radius } = useTheme();
```

2. Replace in Box component (already uses colors.primary correctly).

3. Replace in Section component - use shared Section from './section' instead of inline definition, OR migrate inline Section to use tokens:
```typescript
// Use shared Section which now has tokens
import { Section } from './section';
```

4. Replace in DemoContainer:
```typescript
const demoContainerStyle: ViewStyle = {
  borderWidth: 1,
  borderRadius: radius.md, // replaces 8
  borderStyle: 'dashed',
  padding: spacing[2], // replaces 8
  borderColor: colors.border,
};
```

5. Replace styles StyleSheet:
Convert from static StyleSheet to dynamic styles where needed:

```typescript
// Keep static styles that don't need tokens
const styles = StyleSheet.create({
  box: {
    width: 44,
    height: 44,
    alignItems: 'center',
    justifyContent: 'center',
  },
  tallBox: {
    width: 44,
    height: 64,
    alignItems: 'center',
    justifyContent: 'center',
  },
});
```

Dynamic styles (in component):
- container gap: spacing[6] (24px)
- label color: colors.foregroundMuted (replaces '#737373')
- label fontSize: fontSize.xs (replaces 12)
- boxText fontSize: fontSize.md (replaces 16)
- tallBox backgroundColor: use a semantic color or secondary
- borderRadius: radius.md (replaces 8)

Remove hardcoded '#737373' and '#10b981' colors - use theme colors instead.
  </action>
  <verify>
```bash
cd /Users/johanneschristler/Code/metacells/other/mcellui && npx tsc --noEmit -p apps/demo/tsconfig.json
grep -n "#737373\|fontSize: 12\|fontSize: 14\|fontSize: 16" apps/demo/components/demos/row-demo.tsx
```
Should return no matches (no hardcoded colors or font sizes).
  </verify>
  <done>
Row demo uses spacing tokens for gaps/padding, fontSize tokens for text, radius tokens for corners, and colors tokens for all colors. No hardcoded hex colors or numeric font sizes remain.
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate Column demo to theme tokens</name>
  <files>apps/demo/components/demos/column-demo.tsx</files>
  <action>
Apply same pattern as row-demo.tsx:

1. Use shared Section component from './section' (now token-based)

2. Replace DemoContainer with token-based styles

3. Replace styles:
- container gap: spacing[6] (24px)
- label color: colors.foregroundMuted
- label fontSize: fontSize.xs
- boxText fontSize: fontSize.md
- borderRadius values: radius.md
- gapGrid/gapItem/justifyGrid/justifyItem gaps: spacing tokens

Key replacements:
- `gap: 24` -> `gap: spacing[6]`
- `gap: 16` -> `gap: spacing[4]`
- `gap: 8` -> `gap: spacing[2]`
- `gap: 4` -> `gap: spacing[1]`
- `fontSize: 16` -> `fontSize.md`
- `fontSize: 12` -> `fontSize.xs`
- `borderRadius: 8` -> `radius.md`
- `'#737373'` -> `colors.foregroundMuted`
- `'rgba(0,0,0,0.05)'` -> `colors.backgroundMuted` with opacity

Remove inline Section definition if present, use shared import.
  </action>
  <verify>
```bash
cd /Users/johanneschristler/Code/metacells/other/mcellui && npx tsc --noEmit -p apps/demo/tsconfig.json
grep -n "#737373\|gap: 24\|gap: 16\|gap: 8" apps/demo/components/demos/column-demo.tsx
```
Should return no matches.
  </verify>
  <done>
Column demo uses spacing, fontSize, radius, and colors tokens consistently. No hardcoded values remain.
  </done>
</task>

<task type="auto">
  <name>Task 3: Migrate Screen demo to theme tokens</name>
  <files>apps/demo/components/demos/screen-demo.tsx</files>
  <action>
Screen demo has the most hardcoded values. Apply comprehensive token migration:

1. Use shared Section component from './section'

2. Replace all StyleSheet values:

```typescript
// Static styles that don't need tokens
const styles = StyleSheet.create({
  // ... minimal static styles
});
```

Dynamic styles in component using useTheme:
- container gap: spacing[6]
- description fontSize: fontSize.sm, lineHeight: 20
- label fontSize: fontSize.xs
- variantGrid gap: spacing[3]
- variantBox height: 100, borderRadius: radius.xl, padding: spacing[3]
- variantContent borderRadius: radius.md
- variantContentText fontSize: fontSize.xs
- variantLabel fontSize: fontSize.xs
- propsTable borderRadius: radius.md
- propRow padding: spacing[2.5]
- propName fontSize: fontSize.sm
- propType fontSize: fontSize.xs
- propDesc fontSize: fontSize.xs
- buttonGrid gap: spacing[2]
- codeBlock padding: spacing[3], borderRadius: radius.md
- code fontSize: fontSize.xs
- fullScreenContent gap: spacing[4], paddingTop: spacing[10]
- fullScreenTitle fontSize: fontSize['2xl']
- fullScreenSubtitle fontSize: fontSize.md
- scrollContent gap: spacing[2]
- scrollItem padding: spacing[4], borderRadius: radius.md

All '#737373' -> colors.foregroundMuted
Remove inline Section definition.
  </action>
  <verify>
```bash
cd /Users/johanneschristler/Code/metacells/other/mcellui && npx tsc --noEmit -p apps/demo/tsconfig.json
grep -n "#737373\|fontSize: 14\|fontSize: 12\|fontSize: 11\|fontSize: 13\|fontSize: 15\|fontSize: 16\|fontSize: 24" apps/demo/components/demos/screen-demo.tsx
```
Should return no matches for hardcoded font sizes or colors.
  </verify>
  <done>
Screen demo uses tokens throughout. All spacing, typography, radius, and color values reference theme tokens.
  </done>
</task>

</tasks>

<verification>
1. All three demos import and use shared Section from './section'
2. No '#737373' hex color in any file
3. No hardcoded fontSize values (12, 14, 16, etc.)
4. No hardcoded gap values (8, 12, 16, 24)
5. All borderRadius use radius tokens
6. TypeScript compiles without errors
</verification>

<success_criteria>
- Zero hardcoded hex colors in row-demo.tsx, column-demo.tsx, screen-demo.tsx
- Zero hardcoded numeric fontSize values
- All gap values use spacing tokens
- All borderRadius use radius tokens
- Dark mode works correctly for all demos
- Demos compile and render correctly
</success_criteria>

<output>
After completion, create `.planning/phases/06-layout-structure/06-04-SUMMARY.md`
</output>
