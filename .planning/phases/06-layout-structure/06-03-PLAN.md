---
phase: 06-layout-structure
plan: 03
type: execute
wave: 2
depends_on: ["06-01"]
files_modified:
  - apps/demo/components/demos/section.tsx
autonomous: true

must_haves:
  truths:
    - "Section demo component uses theme tokens for all spacing"
    - "Section demo component uses theme tokens for typography"
    - "Section respects dark mode via colors tokens"
  artifacts:
    - path: "apps/demo/components/demos/section.tsx"
      provides: "Token-based Section demo helper"
      contains: "useTheme"
  key_links:
    - from: "apps/demo/components/demos/section.tsx"
      to: "@metacells/mcellui-core"
      via: "useTheme hook"
      pattern: "spacing\\[|fontSize\\.|fontWeight\\."
---

<objective>
Migrate shared Section demo component to use theme tokens

Purpose: The Section component is used across all demo files. Migrating it to tokens ensures consistent spacing and typography across all demos and proper dark mode support.

Output: Section component using spacing, fontSize, and fontWeight tokens instead of hardcoded values
</objective>

<execution_context>
@/Users/johanneschristler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/johanneschristler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/06-layout-structure/06-RESEARCH.md
@apps/demo/components/demos/section.tsx
@packages/core/src/theme/spacing.ts
@packages/core/src/theme/typography.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate Section component to use theme tokens</name>
  <files>apps/demo/components/demos/section.tsx</files>
  <action>
Replace the entire Section component to use dynamic token-based styles:

```typescript
import React from 'react';
import { View, Text, StyleSheet, ViewStyle, TextStyle } from 'react-native';
import { useTheme } from '@metacells/mcellui-core';

interface SectionProps {
  title: string;
  children: React.ReactNode;
}

export function Section({ title, children }: SectionProps) {
  const { colors, spacing, fontSize, fontWeight } = useTheme();

  const sectionStyle: ViewStyle = {
    gap: spacing[3], // 12px
  };

  const titleStyle: TextStyle = {
    fontSize: fontSize.sm, // 14px equivalent
    fontWeight: fontWeight.semibold,
    color: colors.foregroundMuted,
    textTransform: 'uppercase',
    letterSpacing: 0.5,
  };

  const contentStyle: ViewStyle = {
    gap: spacing[2], // 8px
  };

  return (
    <View style={sectionStyle}>
      <Text style={titleStyle}>{title}</Text>
      <View style={contentStyle}>{children}</View>
    </View>
  );
}
```

Key changes:
1. Import spacing, fontSize, fontWeight from useTheme
2. Replace hardcoded gap: 12 with spacing[3]
3. Replace hardcoded fontSize: 14 with fontSize.sm
4. Replace hardcoded fontWeight: '600' with fontWeight.semibold
5. Replace hardcoded color '#737373' with colors.foregroundMuted
6. Replace hardcoded gap: 8 with spacing[2]
7. Remove static StyleSheet in favor of dynamic styles

This ensures:
- Dark mode works (colors.foregroundMuted adapts)
- Spacing is consistent with component tokens
- Typography matches design system
  </action>
  <verify>
```bash
cd /Users/johanneschristler/Code/metacells/other/mcellui && npx tsc --noEmit -p apps/demo/tsconfig.json
grep -n "spacing\[" apps/demo/components/demos/section.tsx
grep -n "fontSize\." apps/demo/components/demos/section.tsx
```
Should show token usage and no hardcoded numeric values.
  </verify>
  <done>
Section component uses spacing[3], spacing[2], fontSize.sm, fontWeight.semibold, and colors.foregroundMuted. No hardcoded numeric or color values remain except letterSpacing (0.5 is a minor detail, acceptable).
  </done>
</task>

</tasks>

<verification>
1. Section uses colors.foregroundMuted for text color (dark mode compatible)
2. Section uses spacing[3] for section gap, spacing[2] for content gap
3. Section uses fontSize.sm and fontWeight.semibold
4. No hardcoded `#737373` color
5. No hardcoded 12, 8, 14 spacing/font values
6. TypeScript compiles without errors
</verification>

<success_criteria>
- colors.foregroundMuted replaces '#737373'
- spacing[3] replaces 12
- spacing[2] replaces 8
- fontSize.sm replaces 14
- fontWeight.semibold replaces '600'
- Dark mode now works for Section titles
</success_criteria>

<output>
After completion, create `.planning/phases/06-layout-structure/06-03-SUMMARY.md`
</output>
