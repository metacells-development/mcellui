---
phase: 06-layout-structure
plan: 05
type: execute
wave: 3
depends_on: ["06-03"]
files_modified:
  - apps/demo/components/demos/separator-demo.tsx
  - apps/demo/components/demos/list-demo.tsx
  - apps/demo/components/demos/section-header-demo.tsx
  - apps/demo/components/demos/horizontal-list-demo.tsx
autonomous: true

must_haves:
  truths:
    - "Separator demo uses theme tokens for spacing and typography"
    - "List demo uses theme tokens where applicable"
    - "SectionHeader demo uses theme tokens for spacing"
    - "HorizontalList demo uses theme tokens for spacing and typography"
  artifacts:
    - path: "apps/demo/components/demos/separator-demo.tsx"
      provides: "Token-based Separator demo"
      contains: "spacing"
    - path: "apps/demo/components/demos/horizontal-list-demo.tsx"
      provides: "Token-based HorizontalList demo"
      contains: "spacing"
  key_links:
    - from: "apps/demo/components/demos/horizontal-list-demo.tsx"
      to: "@metacells/mcellui-core"
      via: "useTheme hook"
      pattern: "spacing\\[|fontSize\\."
---

<objective>
Migrate remaining layout demo files to use theme tokens

Purpose: Complete the demo migration by updating Separator, List, SectionHeader, and HorizontalList demos to use theme tokens for consistent styling.

Output: Four demo files using tokens instead of hardcoded values
</objective>

<execution_context>
@/Users/johanneschristler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/johanneschristler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/06-layout-structure/06-RESEARCH.md
@.planning/phases/06-layout-structure/06-03-SUMMARY.md
@apps/demo/components/demos/separator-demo.tsx
@apps/demo/components/demos/list-demo.tsx
@apps/demo/components/demos/section-header-demo.tsx
@apps/demo/components/demos/horizontal-list-demo.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate Separator demo to theme tokens</name>
  <files>apps/demo/components/demos/separator-demo.tsx</files>
  <action>
Separator demo already uses shared Section and colors from useTheme. Migrate remaining hardcoded values:

1. Extend useTheme destructuring:
```typescript
const { colors, spacing, fontSize, radius } = useTheme();
```

2. Replace styles with dynamic token-based styles:
- container gap: spacing[6] (24px)
- card padding: spacing[4] (16px), gap: spacing[3] (12px)
- horizontalCard padding: spacing[4], gap: spacing[4], height: 60 (keep 60 as semantic)
- text fontSize: fontSize.sm (14px)
- horizontalSeparator marginVertical: spacing[1] (4px)
- menu borderRadius: radius.xl (12px), padding: spacing[2] (8px)
- menuItem paddingVertical: spacing[2.5] (10px), paddingHorizontal: spacing[3] (12px), fontSize: fontSize.base (15px equivalent)
- menuSeparator marginVertical: spacing[1] (4px)

Convert to dynamic styles in component:
```typescript
const cardStyle: ViewStyle = {
  padding: spacing[4],
  gap: spacing[3],
};
// etc.
```
  </action>
  <verify>
```bash
cd /Users/johanneschristler/Code/metacells/other/mcellui && npx tsc --noEmit -p apps/demo/tsconfig.json
grep -n "padding: 16\|gap: 12\|gap: 16\|fontSize: 14\|fontSize: 15" apps/demo/components/demos/separator-demo.tsx
```
Should return no matches.
  </verify>
  <done>
Separator demo uses spacing and fontSize tokens. No hardcoded numeric padding/gap/fontSize values remain.
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate List and SectionHeader demos to theme tokens</name>
  <files>apps/demo/components/demos/list-demo.tsx, apps/demo/components/demos/section-header-demo.tsx</files>
  <action>
**List demo (list-demo.tsx):**
Already relatively clean. Main change:
- container gap: spacing[6] (24px)
- standaloneList marginHorizontal: -spacing[4] (already uses -16 which matches)

Replace:
```typescript
const styles = StyleSheet.create({
  container: { gap: 24 },
  // ...
});
```

With dynamic:
```typescript
const containerStyle: ViewStyle = {
  gap: spacing[6], // 24px
};

const standaloneListStyle: ViewStyle = {
  gap: 0,
  marginHorizontal: -spacing[4], // already correct pattern
};
```

**SectionHeader demo (section-header-demo.tsx):**
Replace styles:
- container gap: spacing[6] (24px)
- sizesContainer gap: spacing[4] (16px)
- contextContainer gap: spacing[3] (12px)
- cardsRow gap: spacing[3] (12px)
- cardContent padding: 0 (keep)
- cardPlaceholder height: 80 (keep as semantic), borderRadius: radius.md (8px)

Convert to dynamic where tokens apply.
  </action>
  <verify>
```bash
cd /Users/johanneschristler/Code/metacells/other/mcellui && npx tsc --noEmit -p apps/demo/tsconfig.json
grep -n "gap: 24\|gap: 16\|gap: 12" apps/demo/components/demos/list-demo.tsx apps/demo/components/demos/section-header-demo.tsx
```
Should return no matches.
  </verify>
  <done>
List and SectionHeader demos use spacing tokens for gaps. Both compile without errors.
  </done>
</task>

<task type="auto">
  <name>Task 3: Migrate HorizontalList demo to theme tokens</name>
  <files>apps/demo/components/demos/horizontal-list-demo.tsx</files>
  <action>
HorizontalList demo has the most hardcoded values. Comprehensive migration:

1. Extend useTheme (already imports spacing and radius):
```typescript
const { colors, spacing, radius, platformShadow, fontSize, fontWeight } = useTheme();
```

2. Replace container gap:
- container gap: spacing[8] (32px)

3. Product card styles:
- productCard width: 150 (semantic - card width), padding: spacing[3]
- productImage marginBottom: spacing[2.5]
- productTitle fontSize: fontSize.sm, fontWeight: fontWeight.semibold, marginBottom: spacing[1]
- productPrice fontSize: fontSize.md, fontWeight: fontWeight.bold

4. Banner card styles:
- bannerCard height: 140 (semantic), padding: spacing[5]
- bannerTitle fontSize: fontSize['2xl'], fontWeight: fontWeight.bold, marginBottom: spacing[1]
- bannerSubtitle fontSize: fontSize.sm, fontWeight: fontWeight.medium
- Keep white colors (#fff, rgba(255...)) as they're intentional for contrast on colored backgrounds

5. Pagination:
- pagination gap: spacing[1.5], marginTop: spacing[3]
- dot width/height: 6 (semantic micro element)

6. Category chips:
- categoryChip paddingHorizontal: spacing[3.5], paddingVertical: spacing[2.5], gap: spacing[1.5]
- categoryEmoji fontSize: fontSize.md
- categoryName fontSize: fontSize.sm, fontWeight: fontWeight.medium

7. Stories:
- storyContainer width: 68 (semantic)
- storyRing width/height: 64 (semantic), padding: spacing[0.5]
- storyAvatar borderRadius: 30 (semantic circle)
- storyInitial fontSize: fontSize['2xl'], fontWeight: fontWeight.semibold
- storyName fontSize: fontSize.xs, marginTop: spacing[1.5]

8. Gallery:
- galleryImage width: 120, height: 160 (semantic dimensions)

Note: Some values (card widths, heights, avatar sizes) are intentionally hardcoded as semantic dimensions specific to this demo. Focus on spacing, typography, and radius tokens.
  </action>
  <verify>
```bash
cd /Users/johanneschristler/Code/metacells/other/mcellui && npx tsc --noEmit -p apps/demo/tsconfig.json
grep -n "fontSize: 14\|fontSize: 12\|fontSize: 16\|fontSize: 22\|fontSize: 24\|gap: 32\|gap: 6\|gap: 12" apps/demo/components/demos/horizontal-list-demo.tsx
```
Should return no matches for hardcoded typography or gap values.
  </verify>
  <done>
HorizontalList demo uses fontSize, fontWeight, and spacing tokens throughout. Semantic dimensions (card widths, avatar sizes) intentionally retained. No hardcoded typography or gap values remain.
  </done>
</task>

</tasks>

<verification>
1. All four demos use shared Section component
2. No hardcoded gap values (6, 8, 12, 16, 24, 32)
3. No hardcoded fontSize values (12, 14, 15, 16, 22, 24)
4. No hardcoded fontWeight values ('500', '600', '700')
5. borderRadius values use radius tokens where applicable
6. TypeScript compiles without errors for all demos
</verification>

<success_criteria>
- separator-demo.tsx: Zero hardcoded padding/gap/fontSize values
- list-demo.tsx: spacing[6] for container gap
- section-header-demo.tsx: spacing tokens for all gaps
- horizontal-list-demo.tsx: fontSize and spacing tokens throughout
- All demos compile and render correctly
- Dark mode works for demos (colors.foregroundMuted, etc.)
</success_criteria>

<output>
After completion, create `.planning/phases/06-layout-structure/06-05-SUMMARY.md`
</output>
