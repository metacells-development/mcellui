---
phase: 02-buttons-actions
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/core/src/theme/components.ts
  - packages/core/src/theme/radius.ts
autonomous: true

must_haves:
  truths:
    - "IconButton, FAB, SegmentedControl, and ActionSheet can access centralized tokens from components.ts"
    - "Component radius tokens exist for iconButton, fab, segmentedControl, and actionSheet"
    - "Token structure matches button pattern with sm/md/lg variants"
  artifacts:
    - path: "packages/core/src/theme/components.ts"
      provides: "iconButtonTokens, fabTokens, segmentedControlTokens, actionSheetTokens"
      contains: "iconButtonTokens"
    - path: "packages/core/src/theme/radius.ts"
      provides: "iconButton, fab, segmentedControl, actionSheet radius mappings"
      contains: "iconButton"
  key_links:
    - from: "packages/core/src/theme/components.ts"
      to: "components export"
      via: "components.iconButton, components.fab, components.segmentedControl, components.actionSheet"
      pattern: "iconButton:\\s*iconButtonTokens"
---

<objective>
Add centralized token definitions for IconButton, FAB, SegmentedControl, and ActionSheet components following the established button token pattern.

Purpose: Enable token-based styling for all button-like components, eliminating hardcoded values
Output: Extended components.ts with iconButtonTokens, fabTokens, segmentedControlTokens, actionSheetTokens; extended radius.ts with component radius mappings
</objective>

<execution_context>
@/Users/johanneschristler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/johanneschristler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-buttons-actions/02-RESEARCH.md
@packages/core/src/theme/components.ts
@packages/core/src/theme/radius.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add IconButton, FAB, SegmentedControl, and ActionSheet tokens to components.ts</name>
  <files>packages/core/src/theme/components.ts</files>
  <action>
Add four new token definitions following the buttonTokens pattern:

1. **iconButtonTokens** - Add after buttonTokens section:
```typescript
export const iconButtonTokens = {
  sm: {
    size: 32,
    iconSize: iconSize.sm,
  },
  md: {
    size: 40,
    iconSize: iconSize.md,
  },
  lg: {
    size: 48,
    iconSize: iconSize.lg,
  },
  xl: {
    size: 56,
    iconSize: 28,  // Matches current sizeConfig
  },
} as const;
```

2. **fabTokens** - Add after iconButtonTokens:
```typescript
export const fabTokens = {
  sm: {
    size: 40,
    iconSize: 18,
    fontSize: fontSize.sm,
    paddingHorizontal: spacing[3],
    fontWeight: fontWeight.semibold,
  },
  md: {
    size: 56,
    iconSize: iconSize.lg,
    fontSize: fontSize.base,
    paddingHorizontal: spacing[4],
    fontWeight: fontWeight.semibold,
  },
  lg: {
    size: 72,
    iconSize: iconSize.xl,
    fontSize: fontSize.md,
    paddingHorizontal: spacing[5],
    fontWeight: fontWeight.semibold,
  },
} as const;
```

3. **segmentedControlTokens** - Add after fabTokens:
```typescript
export const segmentedControlTokens = {
  sm: {
    height: componentHeight.sm,
    fontSize: fontSize.sm,
    padding: 4,
    fontWeight: fontWeight.medium,
    activeFontWeight: fontWeight.semibold,
  },
  md: {
    height: 40,  // Slightly smaller than componentHeight.md for compact feel
    fontSize: fontSize.base,
    padding: 4,
    fontWeight: fontWeight.medium,
    activeFontWeight: fontWeight.semibold,
  },
  lg: {
    height: 48,
    fontSize: fontSize.md,
    padding: 4,
    fontWeight: fontWeight.medium,
    activeFontWeight: fontWeight.semibold,
  },
} as const;
```

4. **actionSheetTokens** - Add after segmentedControlTokens:
```typescript
export const actionSheetTokens = {
  item: {
    height: componentHeight.lg,  // 48px for comfortable touch target
    fontSize: fontSize.md,
    fontWeight: fontWeight.medium,
    iconSize: iconSize.md,
    paddingHorizontal: spacing[4],
    gap: spacing[3],
  },
  header: {
    fontSize: fontSize.sm,
    fontWeight: fontWeight.semibold,
    paddingVertical: spacing[3],
    paddingHorizontal: spacing[4],
  },
  cancel: {
    height: componentHeight.lg,
    fontSize: fontSize.md,
    fontWeight: fontWeight.semibold,
  },
} as const;
```

5. Update the `components` export object to include:
```typescript
export const components = {
  button: buttonTokens,
  iconButton: iconButtonTokens,
  fab: fabTokens,
  segmentedControl: segmentedControlTokens,
  actionSheet: actionSheetTokens,
  // ... rest of existing exports
} as const;
```

Ensure all imports at top include spacing, fontSize, fontWeight, iconSize.
  </action>
  <verify>Run `npx tsc --noEmit -p packages/core/tsconfig.json` - should pass with no errors related to new tokens</verify>
  <done>components.iconButton, components.fab, components.segmentedControl, and components.actionSheet are available from components.ts with appropriate variants</done>
</task>

<task type="auto">
  <name>Task 2: Add component radius tokens for IconButton, FAB, SegmentedControl, ActionSheet</name>
  <files>packages/core/src/theme/radius.ts</files>
  <action>
Add radius mappings for the four button-like components:

1. Extend `ComponentRadiusTokens` interface to include:
```typescript
iconButton: number;      // Default for non-rounded
iconButtonRounded: number;  // For rounded=true (full pill)
fab: number;             // Always circular
segmentedControl: number;  // Container radius
segmentedControlIndicator: number;  // Inner indicator radius
actionSheet: number;     // Sheet container radius
actionSheetItem: number; // Item border radius for pressed state
```

2. In `createComponentRadius` function, add the new mappings:
```typescript
// IconButton: uses medium radius by default (same as button)
iconButton: baseRadius.md,
iconButtonRounded: PILL_RADIUS,  // 9999 for fully circular

// FAB: always fully circular (computed from size, but PILL_RADIUS for CSS)
fab: PILL_RADIUS,

// SegmentedControl: container uses lg, indicator uses md
segmentedControl: baseRadius.lg,
segmentedControlIndicator: baseRadius.md,

// ActionSheet: container uses xl for prominent modal feel, items use md
actionSheet: baseRadius.xl,
actionSheetItem: baseRadius.md,
```

Note: PILL_RADIUS should be defined as 9999 if not already present.
  </action>
  <verify>Run `npx tsc --noEmit -p packages/core/tsconfig.json` - should pass with no errors related to new radius tokens</verify>
  <done>componentRadius.iconButton, componentRadius.fab, componentRadius.segmentedControl, componentRadius.actionSheet available from theme</done>
</task>

</tasks>

<verification>
1. TypeScript compiles without errors: `npx tsc --noEmit -p packages/core/tsconfig.json`
2. New tokens accessible: Verify exports include iconButton, fab, segmentedControl, actionSheet in both components and componentRadius
</verification>

<success_criteria>
- [ ] iconButtonTokens defined with sm/md/lg/xl variants
- [ ] fabTokens defined with sm/md/lg variants
- [ ] segmentedControlTokens defined with sm/md/lg variants
- [ ] actionSheetTokens defined with item/header/cancel sections
- [ ] All new tokens exported in components object
- [ ] ComponentRadiusTokens interface extended with new component radius mappings
- [ ] createComponentRadius returns all new radius values
- [ ] TypeScript compilation passes
</success_criteria>

<output>
After completion, create `.planning/phases/02-buttons-actions/02-01-SUMMARY.md`
</output>
