---
phase: 02-buttons-actions
plan: 06
type: execute
wave: 3
depends_on: ["02-02", "02-03", "02-04", "02-05"]
files_modified:
  - apps/demo/components/demos/button-demo.tsx
  - apps/demo/components/demos/icon-button-demo.tsx
  - apps/demo/components/demos/action-sheet-demo.tsx
autonomous: true

must_haves:
  truths:
    - "Button demo shows all 7 variants, 3 sizes, disabled/loading states, and icons"
    - "IconButton demo shows all variants, all 4 sizes in a size×variant matrix"
    - "ActionSheet demo shows item states (normal, disabled, destructive) in dedicated section"
  artifacts:
    - path: "apps/demo/components/demos/button-demo.tsx"
      provides: "Comprehensive Button demo"
      contains: "success"
    - path: "apps/demo/components/demos/icon-button-demo.tsx"
      provides: "Size×Variant matrix"
      contains: "All Sizes"
    - path: "apps/demo/components/demos/action-sheet-demo.tsx"
      provides: "Item states section"
      contains: "Item States"
  key_links:
    - from: "apps/demo/components/demos/button-demo.tsx"
      to: "@/components/ui/button"
      via: "import Button"
      pattern: "variant=\"link\""
---

<objective>
Enhance Button, IconButton, and ActionSheet demos to show comprehensive state coverage for all variants, sizes, and interaction states.

Purpose: Ensure demos serve as complete documentation and testing grounds for all button-like components
Output: Enhanced demos with all variants, sizes, states, and usage patterns

Note: Button component is the **gold standard** - it already implements all patterns correctly. No migration needed, only demo enhancement to showcase all features. FAB demo and SegmentedControl demo are already comprehensive and require no changes.
</objective>

<execution_context>
@/Users/johanneschristler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/johanneschristler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/02-buttons-actions/02-RESEARCH.md
@apps/demo/components/demos/button-demo.tsx
@apps/demo/components/demos/icon-button-demo.tsx
@apps/demo/components/demos/action-sheet-demo.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Enhance Button demo with complete variant and state coverage</name>
  <files>apps/demo/components/demos/button-demo.tsx</files>
  <action>
Enhance ButtonDemo to show all 7 variants, all 3 sizes, all states, and icon usage:

1. **Add useTheme import** for theme-aware styling:
```typescript
import { useTheme } from '@metacells/mcellui-core';
```

2. **Add missing variants section** - Include 'link' and 'success':
```tsx
<Section title="Variants">
  <Button onPress={() => {}}>Default</Button>
  <Button variant="secondary" onPress={() => {}}>Secondary</Button>
  <Button variant="outline" onPress={() => {}}>Outline</Button>
  <Button variant="ghost" onPress={() => {}}>Ghost</Button>
  <Button variant="destructive" onPress={() => {}}>Destructive</Button>
  <Button variant="link" onPress={() => {}}>Link</Button>
  <Button variant="success" onPress={() => {}}>Success</Button>
</Section>
```

3. **Add Icons section** - Show left and right icon usage:
```tsx
<Section title="With Icons">
  <Button icon={<PlusIcon />} onPress={() => {}}>Add Item</Button>
  <Button iconRight={<ChevronRightIcon />} onPress={() => {}}>Continue</Button>
  <Button icon={<PlusIcon />} iconRight={<ChevronRightIcon />} onPress={() => {}}>Both Icons</Button>
</Section>
```

4. **Add Full Width section**:
```tsx
<Section title="Full Width">
  <Button fullWidth onPress={() => {}}>Full Width Button</Button>
  <Button fullWidth variant="outline" onPress={() => {}}>Full Width Outline</Button>
</Section>
```

5. **Enhance States section** - Add loading on each variant:
```tsx
<Section title="States">
  <View style={styles.row}>
    <Button disabled onPress={() => {}}>Disabled</Button>
    <Button loading onPress={() => {}}>Loading</Button>
  </View>
  <View style={styles.row}>
    <Button variant="secondary" loading onPress={() => {}}>Secondary Loading</Button>
    <Button variant="destructive" loading onPress={() => {}}>Destructive Loading</Button>
  </View>
</Section>
```

6. **Add simple icon components** - PlusIcon, ChevronRightIcon (use SVG like icon-button-demo)

7. **Update styles** - Use theme colors for section titles, add row style:
```typescript
const styles = StyleSheet.create({
  container: { gap: 24 },
  section: { gap: 12 },
  sectionTitle: { fontSize: 14, fontWeight: '600', textTransform: 'uppercase', letterSpacing: 0.5 },
  sectionContent: { gap: 8 },
  row: { flexDirection: 'row', gap: 8, flexWrap: 'wrap' },
});
```
  </action>
  <verify>Start demo app and verify Button demo shows all 7 variants, icons, full width, loading states with correct spinner colors</verify>
  <done>Button demo shows all variants (7), sizes (3), states (disabled, loading), icons (left, right, both), full width</done>
</task>

<task type="auto">
  <name>Task 2: Add Size×Variant matrix to IconButton demo</name>
  <files>apps/demo/components/demos/icon-button-demo.tsx</files>
  <action>
Add a new section showing all 4 sizes across multiple variants to IconButton demo:

1. Add "All Sizes × All Variants" section after existing sections:
```tsx
<Section title="All Sizes × Variants">
  <Text style={styles.sectionSubtitle}>Default variant:</Text>
  <View style={styles.row}>
    {(['sm', 'md', 'lg', 'xl'] as const).map(size => (
      <IconButton
        key={size}
        icon={<PlusIcon />}
        size={size}
        accessibilityLabel={`Size ${size}`}
        onPress={handlePress}
      />
    ))}
  </View>
  <Text style={styles.sectionSubtitle}>Secondary variant:</Text>
  <View style={styles.row}>
    {(['sm', 'md', 'lg', 'xl'] as const).map(size => (
      <IconButton
        key={size}
        icon={<HeartIcon />}
        size={size}
        variant="secondary"
        accessibilityLabel={`Secondary ${size}`}
        onPress={handlePress}
      />
    ))}
  </View>
  <Text style={styles.sectionSubtitle}>Outline variant:</Text>
  <View style={styles.row}>
    {(['sm', 'md', 'lg', 'xl'] as const).map(size => (
      <IconButton
        key={size}
        icon={<SettingsIcon />}
        size={size}
        variant="outline"
        accessibilityLabel={`Outline ${size}`}
        onPress={handlePress}
      />
    ))}
  </View>
</Section>
```

2. Add sectionSubtitle style if not present:
```typescript
sectionSubtitle: { fontSize: 12, color: colors.foregroundMuted, marginTop: 8 },
```
  </action>
  <verify>Start demo app and verify IconButton demo shows size×variant matrix with all 4 sizes visible for each variant row</verify>
  <done>IconButton demo includes comprehensive size×variant matrix showing all 4 sizes across default, secondary, and outline variants</done>
</task>

<task type="auto">
  <name>Task 3: Add Item States section to ActionSheet demo</name>
  <files>apps/demo/components/demos/action-sheet-demo.tsx</files>
  <action>
Add a dedicated section showing all ActionSheet item states:

1. Add state for the new sheet:
```typescript
const [statesSheet, setStatesSheet] = useState(false);
```

2. Add "Item States" section:
```tsx
<Section title="Item States">
  <Button variant="outline" onPress={() => setStatesSheet(true)}>
    Open Item States Demo
  </Button>
  <ActionSheet
    open={statesSheet}
    onOpenChange={setStatesSheet}
    title="Item States"
  >
    <ActionSheetItem icon={<EditIcon />} onPress={() => { setStatesSheet(false); showAlert('Normal'); }}>
      Normal Item
    </ActionSheetItem>
    <ActionSheetItem disabled>
      Disabled Item
    </ActionSheetItem>
    <ActionSheetItem icon={<TrashIcon />} destructive onPress={() => { setStatesSheet(false); showAlert('Destructive'); }}>
      Destructive Item
    </ActionSheetItem>
  </ActionSheet>
</Section>
```

3. Add showAlert helper if not present:
```typescript
const showAlert = (message: string) => Alert.alert('Action', message);
```
  </action>
  <verify>Start demo app and verify ActionSheet demo has "Item States" section with working sheet showing normal, disabled, and destructive items</verify>
  <done>ActionSheet demo includes Item States section demonstrating all three item states (normal, disabled, destructive)</done>
</task>

</tasks>

<verification>
1. All demos render without errors
2. Button demo shows 7 variants, 3 sizes, disabled/loading states, icons
3. IconButton demo shows size×variant matrix (4 sizes × 3 variants shown)
4. ActionSheet demo shows item states section with all three states

**No changes needed for:**
- FAB demo - Already comprehensive with sizes, variants, extended mode
- SegmentedControl demo - Already comprehensive with sizes, disabled segments, filter example
</verification>

<success_criteria>
- [ ] Button demo shows all 7 variants (default, secondary, outline, ghost, destructive, link, success)
- [ ] Button demo shows icon left, icon right, both icons
- [ ] Button demo shows full width option
- [ ] Button demo shows loading state on multiple variants with correct spinner colors
- [ ] IconButton demo shows size×variant matrix (sm/md/lg/xl across multiple variants)
- [ ] ActionSheet demo shows item states section (normal, disabled, destructive)
- [ ] All demos use theme-aware colors for section titles
</success_criteria>

<output>
After completion, create `.planning/phases/02-buttons-actions/02-06-SUMMARY.md`
</output>
