---
phase: 08-advanced-components
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/core/src/theme/components.ts
autonomous: true

must_haves:
  truths:
    - "All 7 advanced component token sets exist in components.ts"
    - "Tokens export sm/md/lg variants where size prop exists"
    - "Tokens reference existing spacing/fontSize/fontWeight values"
  artifacts:
    - path: "packages/core/src/theme/components.ts"
      provides: "calendarTokens, dateTimePickerTokens, formTokens, imageGalleryTokens, paginationTokens, storiesTokens, searchInputTokens"
      contains: "calendarTokens"
  key_links:
    - from: "packages/core/src/theme/components.ts"
      to: "spacing, fontSize, fontWeight imports"
      via: "import statement"
      pattern: "import.*spacing.*fontSize.*fontWeight"
---

<objective>
Add centralized tokens for all Phase 08 advanced components to the core theme system.

Purpose: Enable consistent sizing/spacing across Calendar, DateTimePicker, Form, ImageGallery, Pagination, Stories, and SearchInput by replacing hardcoded values with theme tokens.

Output: Extended components.ts with 7 new token sets exported via components object.
</objective>

<execution_context>
@/Users/johanneschristler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/johanneschristler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-advanced-components/08-RESEARCH.md
@packages/core/src/theme/components.ts
@packages/core/src/theme/spacing.ts
@packages/core/src/theme/typography.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add calendarTokens and dateTimePickerTokens</name>
  <files>packages/core/src/theme/components.ts</files>
  <action>
Add calendarTokens with sm/md size variants:
```typescript
export const calendarTokens = {
  sm: {
    daySize: 32,
    fontSize: fontSize.sm,
    headerFontSize: fontSize.base,
    gap: spacing[0.5],  // was hardcoded 2
    containerPadding: spacing[2],  // was hardcoded 8
    weekNumberWidth: 24,
    navButtonPadding: spacing[2],
  },
  md: {
    daySize: 40,
    fontSize: fontSize.base,
    headerFontSize: fontSize.md,
    gap: spacing[1],  // was hardcoded 4
    containerPadding: spacing[2],
    weekNumberWidth: 24,
    navButtonPadding: spacing[2],
  },
} as const;
```

Add dateTimePickerTokens:
```typescript
export const dateTimePickerTokens = {
  input: {
    height: componentHeight.md,
    paddingHorizontal: spacing[4],
    paddingVertical: spacing[3],
    iconMarginLeft: spacing[2],  // was hardcoded 8
  },
  sheet: {
    borderRadius: 20,  // iOS convention
    handlePaddingVertical: spacing[3],  // was hardcoded 12
    handleWidth: 36,
    handleHeight: 4,
    headerPaddingHorizontal: spacing[4],
    headerPaddingBottom: spacing[3],
    pickerPaddingVertical: spacing[4],  // was hardcoded 16
    pickerHeight: 200,
  },
  fallback: {
    padding: spacing[6],  // was hardcoded 24
    gap: spacing[3],  // was hardcoded 12
  },
  icon: {
    width: 20,
    height: 20,
    topWidth: 14,
    topHeight: 3,
    bodyWidth: 16,
    bodyHeight: 14,
    dotSize: 3,
    dotGap: spacing[0.75],  // was hardcoded 3
  },
} as const;
```

Place after circularProgressTokens section.
  </action>
  <verify>TypeScript compiles: `cd packages/core && npx tsc --noEmit`</verify>
  <done>calendarTokens and dateTimePickerTokens exist in components.ts with all size/layout values tokenized</done>
</task>

<task type="auto">
  <name>Task 2: Add formTokens, imageGalleryTokens, paginationTokens</name>
  <files>packages/core/src/theme/components.ts</files>
  <action>
Add formTokens:
```typescript
export const formTokens = {
  item: {
    marginBottom: spacing[4],
  },
  label: {
    fontSize: fontSize.base,
    fontWeight: fontWeight.medium,
    marginBottom: spacing[1.5],
  },
  description: {
    fontSize: fontSize.sm,
    marginTop: spacing[1],
  },
  message: {
    fontSize: fontSize.sm,
    fontWeight: fontWeight.medium,
    marginTop: spacing[1],
  },
} as const;
```

Add imageGalleryTokens:
```typescript
export const imageGalleryTokens = {
  grid: {
    defaultColumns: 3,
    defaultSpacing: 2,
    defaultAspectRatio: 1,
  },
  fullscreen: {
    backdropOpacity: 0.95,
    closeButtonTop: 50,  // iOS safe area
    closeButtonTopAndroid: 20,
    closeButtonSize: 36,
    closeLineWidth: 18,
    closeLineHeight: 2,
    pageIndicatorBottom: 50,
    dotSize: 6,
    dotGap: spacing[1.5],  // was hardcoded 6
  },
} as const;
```

Add paginationTokens (supplements existing SIZE_CONFIG):
```typescript
export const paginationTokens = {
  sm: {
    dotSize: 6,
    dotGap: spacing[1.5],  // was hardcoded 6
    buttonSize: 28,
    fontSize: fontSize.sm,
    numberSize: 28,
  },
  md: {
    dotSize: 8,
    dotGap: spacing[2],  // was hardcoded 8
    buttonSize: 36,
    fontSize: fontSize.base,
    numberSize: 36,
  },
  lg: {
    dotSize: 10,
    dotGap: spacing[2.5],  // was hardcoded 10
    buttonSize: 44,
    fontSize: fontSize.md,
    numberSize: 44,
  },
  simple: {
    gap: spacing[1],  // was hardcoded 4 in simpleButton
  },
} as const;
```
  </action>
  <verify>TypeScript compiles: `cd packages/core && npx tsc --noEmit`</verify>
  <done>formTokens, imageGalleryTokens, paginationTokens added with all layout values tokenized</done>
</task>

<task type="auto">
  <name>Task 3: Add storiesTokens, searchInputTokens, and export all</name>
  <files>packages/core/src/theme/components.ts</files>
  <action>
Add storiesTokens (supplements existing SIZE_CONFIG):
```typescript
export const storiesTokens = {
  sm: {
    outer: 56,
    inner: 50,
    avatar: 46,
    borderWidth: 3,
    fontSize: fontSize.xs,
    plusSize: 14,
    nameMarginTop: spacing[1],  // was hardcoded 4
  },
  md: {
    outer: 72,
    inner: 64,
    avatar: 60,
    borderWidth: 3,
    fontSize: fontSize.xs,  // 11 not in scale, use 12
    plusSize: 18,
    nameMarginTop: spacing[1],
  },
  lg: {
    outer: 88,
    inner: 80,
    avatar: 74,
    borderWidth: 4,
    fontSize: fontSize.sm,
    plusSize: 22,
    nameMarginTop: spacing[1],
  },
  row: {
    paddingHorizontal: spacing[4],
    gap: spacing[3],
  },
} as const;
```

Add searchInputTokens:
```typescript
export const searchInputTokens = {
  height: componentHeight.md,  // was hardcoded 44
  paddingHorizontal: spacing[3],
  iconSize: 20,
  iconMarginRight: spacing[2],
  clearSize: 18,
  rightContainerWidth: 24,
  rightContainerMarginLeft: spacing[2],
  fontSize: fontSize.md,  // was hardcoded 16
} as const;
```

Update components export object to include all new tokens:
```typescript
export const components = {
  // ... existing entries ...
  calendar: calendarTokens,
  dateTimePicker: dateTimePickerTokens,
  form: formTokens,
  imageGallery: imageGalleryTokens,
  pagination: paginationTokens,
  stories: storiesTokens,
  searchInput: searchInputTokens,
  // ... height, icon at end ...
} as const;
```
  </action>
  <verify>TypeScript compiles: `cd packages/core && npx tsc --noEmit`</verify>
  <done>All 7 advanced component token sets exist and are exported via components object</done>
</task>

</tasks>

<verification>
1. `cd packages/core && npx tsc --noEmit` passes
2. components.ts exports: calendarTokens, dateTimePickerTokens, formTokens, imageGalleryTokens, paginationTokens, storiesTokens, searchInputTokens
3. All tokens reference spacing[], fontSize.*, fontWeight.* (no hardcoded numbers except intentional pixel values like closeButtonSize)
</verification>

<success_criteria>
- packages/core/src/theme/components.ts contains 7 new token sets
- All tokens use spacing/fontSize/fontWeight from imports
- TypeScript compilation succeeds
- components object includes all 7 new entries
</success_criteria>

<output>
After completion, create `.planning/phases/08-advanced-components/08-01-SUMMARY.md`
</output>
