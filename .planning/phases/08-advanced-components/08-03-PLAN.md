---
phase: 08-advanced-components
plan: 03
type: execute
wave: 2
depends_on: ["08-01"]
files_modified:
  - packages/registry/ui/form.tsx
autonomous: true

must_haves:
  truths:
    - "Form components use formTokens from core theme"
    - "FormLabel, FormDescription, FormMessage use tokenized fontSize/spacing"
    - "No hardcoded fontSize values in StyleSheet"
  artifacts:
    - path: "packages/registry/ui/form.tsx"
      provides: "Token-based Form compound components"
      contains: "formTokens"
  key_links:
    - from: "packages/registry/ui/form.tsx"
      to: "packages/core/src/theme/components.ts"
      via: "import formTokens"
      pattern: "formTokens"
---

<objective>
Migrate Form compound components to use centralized formTokens for consistent typography and spacing.

Purpose: Replace hardcoded fontSize/fontWeight in Form, FormLabel, FormDescription, FormMessage with theme tokens.

Output: Form system uses formTokens, eliminating hardcoded typography values in StyleSheet.
</objective>

<execution_context>
@/Users/johanneschristler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/johanneschristler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@.planning/phases/08-advanced-components/08-01-SUMMARY.md
@packages/core/src/theme/components.ts
@packages/registry/ui/form.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate Form compound components to formTokens</name>
  <files>packages/registry/ui/form.tsx</files>
  <action>
1. Import formTokens at the top (or destructure from useTheme if exported there).

2. Update FormItem to use formTokens:
   ```typescript
   // BEFORE
   <View style={[styles.formItem, { marginBottom: spacing[4] }, style]}>

   // AFTER
   const { formTokens } = useTheme(); // or import directly
   <View style={[styles.formItem, { marginBottom: formTokens.item.marginBottom }, style]}>
   ```

3. Update FormLabel to use formTokens:
   ```typescript
   // BEFORE
   styles.formLabel // contains fontSize: 14, fontWeight: '500'

   // AFTER
   <Text
     style={[
       {
         fontSize: formTokens.label.fontSize,
         fontWeight: formTokens.label.fontWeight,
         color: error ? colors.destructive : colors.foreground,
         marginBottom: formTokens.label.marginBottom,
       },
       style,
     ]}
   >
   ```

4. Update FormDescription to use formTokens:
   ```typescript
   // BEFORE
   styles.formDescription // contains fontSize: 12

   // AFTER
   <Text
     style={[
       {
         fontSize: formTokens.description.fontSize,
         color: colors.foregroundMuted,
         marginTop: formTokens.description.marginTop,
       },
       style,
     ]}
   >
   ```

5. Update FormMessage to use formTokens:
   ```typescript
   // BEFORE
   styles.formMessage // contains fontSize: 12, fontWeight: '500'

   // AFTER
   <Text
     style={[
       {
         fontSize: formTokens.message.fontSize,
         fontWeight: formTokens.message.fontWeight,
         color: colors.destructive,
         marginTop: formTokens.message.marginTop,
       },
       style,
     ]}
   >
   ```

6. Clean up StyleSheet - remove fontSize/fontWeight from formLabel, formDescription, formMessage since they're now inline. Keep only structural styles:
   ```typescript
   const styles = StyleSheet.create({
     form: {
       width: '100%',
     },
     formItem: {
       width: '100%',
     },
   });
   ```

Note: Keep the existing react-hook-form integration logic unchanged - it's correct.
  </action>
  <verify>TypeScript compiles: `cd packages/registry && npx tsc --noEmit`</verify>
  <done>Form, FormLabel, FormDescription, FormMessage use formTokens for all typography/spacing values</done>
</task>

</tasks>

<verification>
1. `cd packages/registry && npx tsc --noEmit` passes
2. form.tsx contains `formTokens` reference
3. StyleSheet no longer contains hardcoded fontSize values (only width: '100%')
4. FormLabel shows fontSize from formTokens.label.fontSize
5. FormMessage shows fontSize from formTokens.message.fontSize
</verification>

<success_criteria>
- Form compound components use formTokens for fontSize, fontWeight, marginBottom, marginTop
- StyleSheet reduced to structural styles only
- Existing react-hook-form integration unchanged
- TypeScript compilation succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/08-advanced-components/08-03-SUMMARY.md`
</output>
