---
phase: 12-screens
plan: 03
type: execute
wave: 2
depends_on: ["12-01"]
files_modified:
  - packages/registry/screens/feed-screen.tsx
  - packages/registry/screens/chat-screen.tsx
  - packages/registry/screens/notifications-screen.tsx
  - packages/registry/screens/comments-screen.tsx
autonomous: true

must_haves:
  truths:
    - "Feed screen uses typography tokens for all text styling"
    - "Chat screen uses typography tokens for all text styling"
    - "Notifications screen uses typography tokens for all text styling"
    - "Comments screen uses typography tokens for all text styling"
  artifacts:
    - path: "packages/registry/screens/feed-screen.tsx"
      provides: "Social feed screen with theme tokens"
      contains: "fontSize"
    - path: "packages/registry/screens/chat-screen.tsx"
      provides: "Chat screen with theme tokens"
      contains: "fontSize"
  key_links:
    - from: "packages/registry/screens/feed-screen.tsx"
      to: "useTheme"
      via: "typography tokens"
      pattern: "fontSize\\[|fontWeight\\."
---

<objective>
Migrate social/communication screens (Feed, Chat, Notifications, Comments) to use theme typography tokens consistently.

Purpose: Social screens share similar patterns (lists, user content, timestamps) and should have unified typography.
Output: 4 screens migrated to full typography token usage.
</objective>

<execution_context>
@/Users/johanneschristler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/johanneschristler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/12-screens/12-01-SUMMARY.md

@packages/registry/screens/feed-screen.tsx
@packages/registry/screens/chat-screen.tsx
@packages/registry/screens/notifications-screen.tsx
@packages/registry/screens/comments-screen.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate Feed and Notifications screens to theme tokens</name>
  <files>packages/registry/screens/feed-screen.tsx, packages/registry/screens/notifications-screen.tsx</files>
  <action>
Migrate feed-screen.tsx and notifications-screen.tsx to typography tokens:

For feed-screen.tsx:
1. Expand useTheme: `const { colors, spacing, radius, fontSize, fontWeight, lineHeight } = useTheme();`

2. Replace hardcoded font sizes:
   - headerTitle (fontSize: 18) -> fontSize.lg
   - emptyTitle (fontSize: 20) -> fontSize.xl
   - emptyMessage (fontSize: 15, lineHeight: 22) -> fontSize.base, lineHeight.relaxed
   - loadingText (fontSize: 14) -> fontSize.sm

3. Replace fontWeight: '600' -> fontWeight.semibold

4. Move font styles to inline, keep layout in StyleSheet

For notifications-screen.tsx:
1. Import typography tokens from useTheme

2. Replace hardcoded font sizes:
   - Header title -> fontSize.lg
   - Notification content -> fontSize.base
   - Notification time -> fontSize.xs
   - Empty state title -> fontSize.xl
   - Empty state message -> fontSize.base

3. Replace fontWeight values with tokens

Both screens use FlatList for rendering - verify renderItem callbacks use tokens properly (via useCallback with correct dependencies).
  </action>
  <verify>
grep -c "fontSize: [0-9]" packages/registry/screens/feed-screen.tsx
grep -c "fontSize: [0-9]" packages/registry/screens/notifications-screen.tsx
# Both should be 0
  </verify>
  <done>Feed and Notifications screens use typography tokens</done>
</task>

<task type="auto">
  <name>Task 2: Migrate Chat and Comments screens to theme tokens</name>
  <files>packages/registry/screens/chat-screen.tsx, packages/registry/screens/comments-screen.tsx</files>
  <action>
Migrate chat-screen.tsx and comments-screen.tsx to typography tokens:

For chat-screen.tsx:
1. Import typography tokens from useTheme

2. Replace hardcoded font sizes:
   - Header title -> fontSize.lg (18)
   - Chat bubble text -> fontSize.base (14)
   - Timestamp -> fontSize.xs (12)
   - Input placeholder (handled by Input component)
   - "typing..." indicator -> fontSize.sm (13)
   - User name in bubble -> fontSize.sm, fontWeight.semibold

3. Replace fontWeight values with tokens

4. Chat bubbles should use:
   - radius tokens for bubble corners
   - spacing tokens for padding
   - colors.primary for own messages background

For comments-screen.tsx:
1. Import typography tokens from useTheme

2. Replace hardcoded font sizes:
   - Header title -> fontSize.lg
   - Comment author name -> fontSize.sm, fontWeight.semibold
   - Comment content -> fontSize.base
   - Comment time -> fontSize.xs
   - Reply count -> fontSize.xs
   - "Write a comment" placeholder -> handled by Input

3. Replace fontWeight values with tokens

4. Ensure nested replies use consistent typography (same tokens, possibly smaller for visual hierarchy).
  </action>
  <verify>
grep -c "fontSize: [0-9]" packages/registry/screens/chat-screen.tsx
grep -c "fontSize: [0-9]" packages/registry/screens/comments-screen.tsx
# Both should be 0
  </verify>
  <done>Chat and Comments screens use typography tokens</done>
</task>

</tasks>

<verification>
After completing all tasks:

1. TypeScript check: `cd packages/registry && npx tsc --noEmit`
2. Verify no hardcoded font sizes in any of the 4 screens:
   ```bash
   for f in feed-screen chat-screen notifications-screen comments-screen; do
     echo "$f: $(grep -c 'fontSize: [0-9]' packages/registry/screens/${f}.tsx 2>/dev/null || echo 0)"
   done
   ```
3. Verify token usage: `grep "fontSize\[" packages/registry/screens/chat-screen.tsx`
</verification>

<success_criteria>
- Feed screen has zero hardcoded numeric font sizes
- Chat screen has zero hardcoded numeric font sizes
- Notifications screen has zero hardcoded numeric font sizes
- Comments screen has zero hardcoded numeric font sizes
- All screens use fontWeight tokens
- All screens compile without TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/12-screens/12-03-SUMMARY.md`
</output>
