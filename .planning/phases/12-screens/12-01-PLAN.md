---
phase: 12-screens
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/core/src/theme/components.ts
  - packages/core/src/theme/index.ts
  - packages/registry/screens/login-screen.tsx
  - packages/registry/screens/signup-screen.tsx
  - packages/registry/screens/otp-verification-screen.tsx
autonomous: true

must_haves:
  truths:
    - "Screen tokens exist for shared screen patterns (header heights, content padding)"
    - "Login screen uses typography tokens for all text styling"
    - "Signup screen uses typography tokens for all text styling"
    - "OTP screen uses typography tokens for all text styling"
  artifacts:
    - path: "packages/core/src/theme/components.ts"
      provides: "SCREEN_CONSTANTS with shared screen tokens"
      contains: "SCREEN_CONSTANTS"
    - path: "packages/registry/screens/login-screen.tsx"
      provides: "Auth screen with theme tokens"
      contains: "typography"
  key_links:
    - from: "packages/registry/screens/login-screen.tsx"
      to: "packages/core/src/theme/components.ts"
      via: "SCREEN_CONSTANTS import"
      pattern: "SCREEN_CONSTANTS|screenTokens"
---

<objective>
Add centralized screen tokens to core theme and migrate authentication screens (Login, Signup, OTP) to use theme typography, spacing, and radius tokens.

Purpose: Establish screen token foundation and refine auth screens to production quality with consistent visual language.
Output: Screen tokens in core theme, 3 auth screens migrated to full token usage.
</objective>

<execution_context>
@/Users/johanneschristler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/johanneschristler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/12-screens/12-RESEARCH.md

@packages/core/src/theme/components.ts
@packages/registry/screens/login-screen.tsx
@packages/registry/screens/signup-screen.tsx
@packages/registry/screens/otp-verification-screen.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add SCREEN_CONSTANTS to core theme</name>
  <files>packages/core/src/theme/components.ts, packages/core/src/theme/index.ts</files>
  <action>
Add SCREEN_CONSTANTS after SWIPEABLE_ROW_CONSTANTS in components.ts:

```typescript
export const SCREEN_CONSTANTS = {
  // Header tokens (iOS: 44px, Android: 56px)
  header: {
    heightIOS: 44,
    heightAndroid: 56,
    titleFontSize: 18,  // Uses fontSize.lg
    titleFontWeight: '600',
  },
  // Content padding
  content: {
    paddingHorizontal: 'spacing[4]',  // 16px standard
    paddingHorizontalWide: 'spacing[6]',  // 24px for auth screens
  },
  // Section spacing
  section: {
    marginTop: 'spacing[6]',
    marginBottom: 'spacing[4]',
    titleFontSize: 18,  // fontSize.lg
    titleFontWeight: '600',
  },
  // Footer/bottom bar
  footer: {
    paddingVertical: 'spacing[3]',
    paddingHorizontal: 'spacing[4]',
  },
};
```

Add screenTokens function that takes theme tokens and returns computed values:

```typescript
export const screenTokens = (spacing: typeof import('./spacing').spacing, fontSize: typeof import('./typography').fontSize) => ({
  header: {
    heightIOS: 44,
    heightAndroid: 56,
    titleFontSize: fontSize.lg,
    titleFontWeight: '600' as const,
  },
  content: {
    paddingHorizontal: spacing[4],
    paddingHorizontalWide: spacing[6],
  },
  section: {
    marginTop: spacing[6],
    marginBottom: spacing[4],
    titleFontSize: fontSize.lg,
    titleFontWeight: '600' as const,
  },
  footer: {
    paddingVertical: spacing[3],
    paddingHorizontal: spacing[4],
  },
});
```

Export both from index.ts alongside other component tokens.
  </action>
  <verify>
grep "SCREEN_CONSTANTS\|screenTokens" packages/core/src/theme/components.ts
grep "screenTokens\|SCREEN_CONSTANTS" packages/core/src/theme/index.ts
  </verify>
  <done>SCREEN_CONSTANTS and screenTokens exported from core theme</done>
</task>

<task type="auto">
  <name>Task 2: Migrate Login and Signup screens to theme tokens</name>
  <files>packages/registry/screens/login-screen.tsx, packages/registry/screens/signup-screen.tsx</files>
  <action>
For both login-screen.tsx and signup-screen.tsx:

1. Import typography from theme: `const { colors, spacing, radius, typography, fontSize, fontWeight } = useTheme();`

2. Replace hardcoded StyleSheet font sizes with typography tokens:
   - title (fontSize: 28) -> fontSize['2xl'] or fontSize.xxl (28)
   - subtitle (fontSize: 16) -> fontSize.md (16)
   - errorText (fontSize: 14) -> fontSize.sm (14)
   - forgotPasswordText (fontSize: 14) -> fontSize.sm
   - dividerText (fontSize: 13) -> fontSize.xs (12) or fontSize.sm
   - socialButtonText (fontSize: 15) -> fontSize.base (14) or fontSize.md
   - signUpText (fontSize: 15) -> fontSize.base
   - signUpLink (fontSize: 15) -> fontSize.base

3. Replace hardcoded fontWeight with fontWeight tokens:
   - '700' -> fontWeight.bold
   - '600' -> fontWeight.semibold
   - '500' -> fontWeight.medium

4. Convert static StyleSheet styles to dynamic inline styles where font/color are involved.

5. Keep flex: 1, alignItems, justifyContent in StyleSheet (layout-only styles).

Pattern for each text style in the component:
```typescript
// Before (in StyleSheet)
title: { fontSize: 28, fontWeight: '700' }

// After (inline with tokens)
style={[styles.title, {
  color: colors.foreground,
  fontSize: fontSize['2xl'],
  fontWeight: fontWeight.bold
}]}
```

Remove hardcoded font values from StyleSheet.create() for these text styles.
  </action>
  <verify>
grep -c "fontSize:" packages/registry/screens/login-screen.tsx
grep -c "fontSize:" packages/registry/screens/signup-screen.tsx
# Should show reduced hardcoded fontSize count (only in Svg icons)
  </verify>
  <done>Login and Signup screens use typography tokens for all text styling</done>
</task>

<task type="auto">
  <name>Task 3: Migrate OTP Verification screen to theme tokens</name>
  <files>packages/registry/screens/otp-verification-screen.tsx</files>
  <action>
Migrate otp-verification-screen.tsx to theme tokens:

1. Import typography tokens: `const { colors, spacing, radius, fontSize, fontWeight } = useTheme();`

2. Replace hardcoded font sizes:
   - title (likely 24-28) -> fontSize['2xl']
   - subtitle/description -> fontSize.md
   - OTP digit display (larger) -> fontSize.xl or fontSize['2xl']
   - timer text -> fontSize.sm
   - resend button text -> fontSize.base
   - error messages -> fontSize.sm

3. Replace fontWeight values with tokens.

4. The OTP input boxes should use:
   - spacing tokens for size/padding
   - radius tokens for border radius
   - fontSize tokens for the digit display

5. Keep layout styles (flex, alignItems) in StyleSheet.

Example OTP box style:
```typescript
const otpBoxStyle = {
  width: spacing[12],  // 48px
  height: spacing[14], // 56px or use componentHeight.lg
  borderRadius: radius.md,
  borderWidth: 1,
  borderColor: focused ? colors.primary : colors.border,
};
```
  </action>
  <verify>
grep -c "fontSize:" packages/registry/screens/otp-verification-screen.tsx
# Should be minimal (only Svg icons if any)
  </verify>
  <done>OTP Verification screen uses typography tokens for all text styling</done>
</task>

</tasks>

<verification>
After completing all tasks:

1. TypeScript check: `cd packages/core && npx tsc --noEmit`
2. TypeScript check: `cd packages/registry && npx tsc --noEmit`
3. Verify exports: `grep "screenTokens" packages/core/src/theme/index.ts`
4. Verify token usage: `grep "fontSize\[" packages/registry/screens/login-screen.tsx`
</verification>

<success_criteria>
- SCREEN_CONSTANTS exported from core theme
- screenTokens function exported from core theme
- Login screen has zero hardcoded font sizes in StyleSheet (only in inline styles using tokens)
- Signup screen has zero hardcoded font sizes in StyleSheet
- OTP screen has zero hardcoded font sizes in StyleSheet
- All three screens compile without TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/12-screens/12-01-SUMMARY.md`
</output>
