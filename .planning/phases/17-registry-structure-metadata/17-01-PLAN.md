---
phase: 17-registry-structure-metadata
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/registry/registry.json
  - packages/cli/src/utils/registry.ts
autonomous: true

must_haves:
  truths:
    - "All 101 components have complete metadata (name, displayName, type, description, category, status, files, dependencies, registryDependencies, expoGo)"
    - "CLI RegistryItem type includes all new fields (expoGo, displayName)"
    - "Registry root has schemaVersion field for future-proofing"
  artifacts:
    - path: "packages/registry/registry.json"
      provides: "Complete registry with schemaVersion and per-component expoGo + displayName"
      contains: "schemaVersion"
    - path: "packages/cli/src/utils/registry.ts"
      provides: "Updated RegistryItem interface with expoGo and displayName fields"
      contains: "expoGo"
  key_links:
    - from: "packages/cli/src/utils/registry.ts"
      to: "packages/registry/registry.json"
      via: "RegistryItem type matches JSON structure"
      pattern: "expoGo.*boolean"
---

<objective>
Add complete metadata fields to all 101 registry components and update CLI types to match.

Purpose: Fulfills REG-01 (complete metadata) and REG-04 (extensible structure with schemaVersion). Ensures every component has the fields needed for tooling, MCP agents, and CLI display.

Output: Updated registry.json with schemaVersion, displayName, and expoGo fields; updated CLI RegistryItem interface.
</objective>

<execution_context>
@/Users/johanneschristler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/johanneschristler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/17-registry-structure-metadata/17-RESEARCH.md

Key context:
- Registry has 101 components (55 UI, 28 blocks, 18 screens)
- All components already have: name, type, description, category, status, files, dependencies, registryDependencies
- Missing fields: displayName, expoGo, schemaVersion (root level)
- All 9 npm deps (reanimated, gesture-handler, svg, etc.) are Expo Go compatible
- So expoGo defaults to true for ALL current components
- CLI type is at packages/cli/src/utils/registry.ts (RegistryItem interface)
- RegistryItem currently has: name, type, description, category, status, files, dependencies?, devDependencies?, registryDependencies?
- type union currently: 'ui' | 'primitive' | 'hook' | 'block' — add 'screen' since 18 screens exist
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update CLI RegistryItem type with new fields</name>
  <files>packages/cli/src/utils/registry.ts</files>
  <action>
Update the RegistryItem interface to add new metadata fields:

1. Add `displayName?: string` — human-readable name (optional, CLI can derive from name if missing)
2. Add `expoGo?: boolean` — Expo Go compatibility flag (optional, defaults true)
3. Add `'screen'` to the type union: `type: 'ui' | 'primitive' | 'hook' | 'block' | 'screen'`

Update the Registry interface:
1. Add `schemaVersion?: string` — schema version for future compatibility

The updated RegistryItem should look like:
```typescript
export interface RegistryItem {
  name: string;
  displayName?: string;
  type: 'ui' | 'primitive' | 'hook' | 'block' | 'screen';
  description: string;
  category: string;
  status: 'stable' | 'beta' | 'experimental';
  files: string[];
  dependencies?: string[];
  devDependencies?: string[];
  registryDependencies?: string[];
  expoGo?: boolean;
}

export interface Registry {
  $schema?: string;
  schemaVersion?: string;
  name: string;
  version: string;
  components: RegistryItem[];
}
```

Do NOT change any function implementations — only the type interfaces.
  </action>
  <verify>Run `cd packages/cli && npx tsc --noEmit` — no new type errors introduced</verify>
  <done>RegistryItem interface includes displayName, expoGo, and screen type; Registry interface includes schemaVersion</done>
</task>

<task type="auto">
  <name>Task 2: Add schemaVersion, displayName, and expoGo to registry.json</name>
  <files>packages/registry/registry.json</files>
  <action>
Update registry.json with complete metadata:

1. Add `"schemaVersion": "1.0"` at the root level (after "$schema", before "name")

2. For EVERY component in the components array, add:
   - `"expoGo": true` — ALL current components are Expo Go compatible (verified in research)
   - `"displayName"` — title-cased human-readable name derived from the kebab-case name:
     - `button` → `"Button"`
     - `radio-group` → `"Radio Group"`
     - `pull-to-refresh` → `"Pull to Refresh"`
     - `login-block` → `"Login Block"`
     - `feed-screen` → `"Feed Screen"`
     - `avatar-stack` → `"Avatar Stack"`
     - etc.

   Place `displayName` immediately after `name`, and `expoGo` after `registryDependencies`.

3. Field order per component should be:
   name, displayName, type, description, category, status, files, dependencies, registryDependencies, expoGo

Apply to all 101 components. This is mechanical — every component gets expoGo: true and a displayName derived from its name by splitting on hyphens and capitalizing each word.
  </action>
  <verify>
Run validation:
```bash
node -e "const r=JSON.parse(require('fs').readFileSync('packages/registry/registry.json','utf8')); console.log('schemaVersion:', r.schemaVersion); const missing = r.components.filter(c => !c.displayName || c.expoGo === undefined); console.log('Missing fields:', missing.length); if(missing.length) missing.forEach(c => console.log('  ', c.name));"
```
Output should show schemaVersion: 1.0 and Missing fields: 0
  </verify>
  <done>All 101 components have displayName and expoGo fields; registry root has schemaVersion "1.0"</done>
</task>

</tasks>

<verification>
1. `cd packages/cli && npx tsc --noEmit` passes without new errors
2. registry.json is valid JSON (node can parse it)
3. All 101 components have displayName (string) and expoGo (boolean) fields
4. Registry root has schemaVersion "1.0"
5. No existing fields were removed or modified
</verification>

<success_criteria>
- RegistryItem type updated with displayName?, expoGo?, screen type
- Registry type updated with schemaVersion?
- All 101 registry entries have displayName and expoGo: true
- Registry root has schemaVersion: "1.0"
- TypeScript compilation passes
</success_criteria>

<output>
After completion, create `.planning/phases/17-registry-structure-metadata/17-01-SUMMARY.md`
</output>
