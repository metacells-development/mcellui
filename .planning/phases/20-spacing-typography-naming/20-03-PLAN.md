---
phase: 20-spacing-typography-naming
plan: 03
type: execute
wave: 3
depends_on: ["20-02"]
files_modified:
  - packages/mcp-server/registry/ui/input.tsx
  - packages/mcp-server/registry/ui/textarea.tsx
  - packages/mcp-server/registry/ui/select.tsx
  - packages/mcp-server/registry/ui/stepper.tsx
  - packages/mcp-server/registry/ui/checkbox.tsx
  - packages/mcp-server/registry/ui/toast.tsx
  - packages/mcp-server/registry/ui/toggle.tsx
  - packages/mcp-server/registry/ui/circular-progress.tsx
  - packages/mcp-server/registry/ui/tag-input.tsx
  - packages/mcp-server/registry/ui/alert.tsx
autonomous: true

must_haves:
  truths:
    - "All fontSize values use typography fontSize tokens"
    - "All fontWeight values use typography fontWeight tokens"
    - "Text hierarchy is consistent across components"
  artifacts:
    - path: "packages/mcp-server/registry/ui/input.tsx"
      provides: "Token-based typography"
      contains: "fontWeight."
    - path: "packages/mcp-server/registry/ui/toast.tsx"
      provides: "Token-based typography"
      contains: "fontSize."
    - path: "packages/mcp-server/registry/ui/toggle.tsx"
      provides: "Token-based typography"
      contains: "fontSize."
  key_links:
    - from: "packages/mcp-server/registry/ui/*.tsx"
      to: "packages/core/src/theme/typography.ts"
      via: "fontSize/fontWeight imports"
      pattern: "fontSize\\.|fontWeight\\."
---

<objective>
Migrate hardcoded fontSize and fontWeight values to typography tokens in registry UI components (batch 1 of 2).

Purpose: Ensure consistent text hierarchy using the centralized typography system. Addresses requirement TOK-08.
Output: 10 registry UI components using typography tokens for text styling.
</objective>

<execution_context>
@/Users/johanneschristler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/johanneschristler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/20-spacing-typography-naming/20-CONTEXT.md
@.planning/phases/20-spacing-typography-naming/20-RESEARCH.md

@packages/core/src/theme/typography.ts
@.planning/phases/20-spacing-typography-naming/20-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate typography in form components</name>
  <files>
    packages/mcp-server/registry/ui/input.tsx
    packages/mcp-server/registry/ui/textarea.tsx
    packages/mcp-server/registry/ui/select.tsx
    packages/mcp-server/registry/ui/stepper.tsx
    packages/mcp-server/registry/ui/checkbox.tsx
  </files>
  <action>
Replace hardcoded fontSize and fontWeight values with typography tokens.

**Pre-flight check:** Before starting, verify that fontSize and fontWeight are exported from @metacells/mcellui-core:
```bash
grep "fontSize\|fontWeight" packages/core/src/index.ts
```
If not exported, add re-exports first. These are constant values (not theme-dependent), so they can be imported at module level and used in StyleSheet.create().

Import tokens:
```typescript
import { fontSize, fontWeight } from '@metacells/mcellui-core';
```

Mapping (from typography.ts):
- fontWeight: '400' -> fontWeight.normal
- fontWeight: '500' -> fontWeight.medium
- fontWeight: '600' -> fontWeight.semibold
- fontWeight: '700' -> fontWeight.bold
- fontSize: 10 -> fontSize['2xs'] (10px)
- fontSize: 12 -> fontSize.sm (12px)
- fontSize: 13 -> fontSize.sm (closest, 12 vs 14)
- fontSize: 14 -> fontSize.base (14px)
- fontSize: 16 -> fontSize.md (16px)

Search each file for hardcoded fontWeight (pattern: `fontWeight: '...'`) and fontSize (pattern: `fontSize: N`) values in StyleSheet.create() blocks and inline styles:

Per-file targets:
- input.tsx: Find `fontWeight: '500'` -> fontWeight.medium
- textarea.tsx: Find `fontWeight: '500'` -> fontWeight.medium
- select.tsx: Find all `fontWeight: '500'` -> fontWeight.medium, `fontWeight: '600'` -> fontWeight.semibold, `fontSize: 10` -> fontSize['2xs'], `fontSize: 16` -> fontSize.md
- stepper.tsx: Find `fontWeight: '500'` -> fontWeight.medium, `fontWeight: '600'` -> fontWeight.semibold, `fontWeight: '400'` -> fontWeight.normal
- checkbox.tsx: Find `fontWeight: '500'` -> fontWeight.medium, `fontSize: 13` -> fontSize.sm (round down, 12 is close to 13)

For static StyleSheet values, import tokens at top level (they're constants).
  </action>
  <verify>
Run `npx tsc --noEmit` in packages/mcp-server.
Grep: `grep -n "fontWeight: '[0-9]\|fontSize: [0-9]" packages/mcp-server/registry/ui/{input,textarea,select,stepper,checkbox}.tsx` returns 0 results.
  </verify>
  <done>
- All form components use fontWeight.medium/semibold/normal tokens
- All form components use fontSize.* tokens
- No hardcoded font values remain
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate typography in feedback and input components</name>
  <files>
    packages/mcp-server/registry/ui/toast.tsx
    packages/mcp-server/registry/ui/toggle.tsx
    packages/mcp-server/registry/ui/circular-progress.tsx
    packages/mcp-server/registry/ui/tag-input.tsx
    packages/mcp-server/registry/ui/alert.tsx
  </files>
  <action>
Replace hardcoded fontSize and fontWeight values with typography tokens.

Search each file for hardcoded fontWeight and fontSize values:

Per-file targets:
- toast.tsx: Find `fontSize: 14` -> fontSize.base, `fontWeight: '600'` -> fontWeight.semibold, `fontSize: 13` -> fontSize.sm
- toggle.tsx: Find `fontSize: 12` -> fontSize.sm, `fontSize: 14` -> fontSize.base, `fontSize: 16` -> fontSize.md, `fontWeight: '500'` -> fontWeight.medium
- circular-progress.tsx: Find `fontWeight: '600'` -> fontWeight.semibold
- tag-input.tsx: Find `fontWeight: '500'` -> fontWeight.medium, `fontSize: 12` -> fontSize.sm
- alert.tsx: Find `fontWeight: '600'` -> fontWeight.semibold

Import fontSize and fontWeight from @metacells/mcellui-core at top of each file.
  </action>
  <verify>
Run `npx tsc --noEmit` in packages/mcp-server.
Grep: `grep -n "fontWeight: '[0-9]\|fontSize: [0-9]" packages/mcp-server/registry/ui/{toast,toggle,circular-progress,tag-input,alert}.tsx` returns 0 results.
  </verify>
  <done>
- toast.tsx uses fontSize.base/sm and fontWeight.semibold
- toggle.tsx uses fontSize.sm/base/md and fontWeight.medium
- circular-progress.tsx uses fontWeight.semibold
- tag-input.tsx uses fontSize.sm and fontWeight.medium
- alert.tsx uses fontWeight.semibold
  </done>
</task>

</tasks>

<verification>
After completing all tasks:
1. `npx tsc --noEmit` passes in packages/mcp-server
2. No hardcoded fontSize or fontWeight values in the 10 migrated files
3. Visual spot check: Toast messages, form labels, toggle text look identical
</verification>

<success_criteria>
- 10 files migrated to typography tokens
- All fontWeight values use fontWeight.* tokens
- All fontSize values use fontSize.* tokens
- TypeScript compilation passes
- No visual regressions in text styling
</success_criteria>

<output>
After completion, create `.planning/phases/20-spacing-typography-naming/20-03-SUMMARY.md`
</output>
