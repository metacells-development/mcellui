---
phase: 18-core-package-exports
plan: 02
type: execute
wave: 2
depends_on: ["18-01"]
files_modified:
  - packages/core/src/theme/colors.ts
  - packages/core/src/theme/spacing.ts
  - packages/core/src/theme/radius.ts
  - packages/core/src/theme/typography.ts
  - packages/core/src/theme/shadows.ts
  - packages/core/src/theme/animations.ts
  - packages/core/src/theme/components.ts
  - packages/core/src/theme/presets.ts
  - packages/core/src/theme/ThemeProvider.tsx
  - packages/core/src/utils/cn.ts
  - packages/core/src/utils/platform.ts
  - packages/core/src/utils/accessibility.ts
  - packages/core/src/utils/haptics.ts
  - packages/core/src/utils/expoGo.ts
  - packages/core/src/utils/typography.ts
  - packages/core/src/config/defineConfig.ts
  - packages/core/src/config/types.ts
  - packages/core/src/constants.ts
autonomous: true

must_haves:
  truths:
    - "Every exported constant and function has a JSDoc comment with description"
    - "Key token exports include @example blocks showing usage with useTheme()"
    - "Utility functions have @param and @returns JSDoc tags"
    - "IDE intellisense shows meaningful descriptions for all public exports"
  artifacts:
    - path: "packages/core/src/theme/colors.ts"
      provides: "JSDoc-documented color token exports"
    - path: "packages/core/src/theme/spacing.ts"
      provides: "JSDoc-documented spacing token exports"
    - path: "packages/core/src/theme/components.ts"
      provides: "JSDoc-documented component token exports"
    - path: "packages/core/src/utils/cn.ts"
      provides: "JSDoc-documented style merge utility"
    - path: "packages/core/src/utils/platform.ts"
      provides: "JSDoc-documented platform detection utilities"
    - path: "packages/core/src/utils/haptics.ts"
      provides: "JSDoc-documented haptic feedback utilities"
  key_links:
    - from: "packages/core/src/theme/*.ts"
      to: "IDE intellisense"
      via: "JSDoc comments parsed by TypeScript language server"
      pattern: "/\\*\\*"
---

<objective>
Add comprehensive JSDoc documentation to all public exports in the core package.

Purpose: Fulfill CORE-01 (token exports documented) and CORE-02 (utility exports documented). Users should see meaningful descriptions, examples, and parameter docs in their IDE when hovering over any mcellui-core import.

Output: All exported constants, functions, and types in the core package have JSDoc comments with descriptions and relevant @example blocks.
</objective>

<execution_context>
@/Users/johanneschristler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/johanneschristler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/18-core-package-exports/18-01-SUMMARY.md
@packages/core/src/theme/colors.ts
@packages/core/src/theme/spacing.ts
@packages/core/src/theme/radius.ts
@packages/core/src/theme/typography.ts
@packages/core/src/theme/shadows.ts
@packages/core/src/theme/animations.ts
@packages/core/src/theme/components.ts
@packages/core/src/theme/presets.ts
@packages/core/src/theme/ThemeProvider.tsx
@packages/core/src/utils/cn.ts
@packages/core/src/utils/platform.ts
@packages/core/src/utils/accessibility.ts
@packages/core/src/utils/haptics.ts
@packages/core/src/utils/expoGo.ts
@packages/core/src/utils/typography.ts
@packages/core/src/config/defineConfig.ts
@packages/core/src/config/types.ts
@packages/core/src/constants.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add JSDoc to theme token files</name>
  <files>
    packages/core/src/theme/colors.ts
    packages/core/src/theme/spacing.ts
    packages/core/src/theme/radius.ts
    packages/core/src/theme/typography.ts
    packages/core/src/theme/shadows.ts
    packages/core/src/theme/animations.ts
    packages/core/src/theme/presets.ts
    packages/core/src/theme/ThemeProvider.tsx
  </files>
  <action>
    Add JSDoc comments to all exported constants, functions, and types in theme files. Follow these patterns:

    **For token objects** (spacing, colors, radius, etc.):
    ```typescript
    /**
     * Spacing Scale
     *
     * Consistent spacing values in logical pixels, following a 4px base unit.
     * Access via `useTheme()` or import directly.
     *
     * @example
     * ```tsx
     * const { spacing } = useTheme();
     * <View style={{ padding: spacing[4], gap: spacing[2] }} />
     * ```
     */
    ```

    **For functions** (getShadow, createRadius, createTypography, etc.):
    ```typescript
    /**
     * Creates platform-appropriate shadow styles.
     *
     * @param size - Shadow size preset ('sm' | 'md' | 'lg' | 'xl')
     * @param color - Shadow color (defaults to theme shadow color)
     * @returns Platform-specific shadow style object
     *
     * @example
     * ```tsx
     * const shadow = getShadow('md');
     * <View style={shadow} />
     * ```
     */
    ```

    **For types** - Add a brief description:
    ```typescript
    /** Available spacing scale keys (0-12) */
    export type SpacingKey = ...
    ```

    **Priority order** (most important first):
    1. `colors.ts` — palette, lightColors, darkColors
    2. `spacing.ts` — spacing scale
    3. `radius.ts` — radius, componentRadius, createRadius
    4. `typography.ts` — fontSize, fontWeight, lineHeight, typography, createTypography
    5. `shadows.ts` — getShadow, getPlatformShadow, shadows
    6. `animations.ts` — springs, timing, durations, getAnimationPreset
    7. `presets.ts` — themePresets, getPresetColors
    8. `ThemeProvider.tsx` — ThemeProvider, useTheme, useIsDark, useColorSchemeValue

    Do NOT add JSDoc to internal implementation details or unexported functions.
    Do NOT modify any logic or values — documentation only.
    Keep JSDoc concise: 1-3 sentence description, @example where helpful, @param/@returns for functions.

    Skip exports that already have adequate JSDoc (e.g., constants.ts already has JSDoc).
  </action>
  <verify>
    - `npx tsc --noEmit -p packages/core/tsconfig.json` passes (JSDoc doesn't break types)
    - `grep -c "/\*\*" packages/core/src/theme/colors.ts` shows at least 3 JSDoc blocks
    - `grep -c "/\*\*" packages/core/src/theme/spacing.ts` shows at least 1 JSDoc block
    - `grep -c "/\*\*" packages/core/src/theme/shadows.ts` shows at least 2 JSDoc blocks
  </verify>
  <done>
    All 8 theme files have JSDoc on every exported constant, function, and type. Key tokens (spacing, colors, radius) include @example blocks. Functions include @param and @returns.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add JSDoc to utility files, config, and component tokens</name>
  <files>
    packages/core/src/utils/cn.ts
    packages/core/src/utils/platform.ts
    packages/core/src/utils/accessibility.ts
    packages/core/src/utils/haptics.ts
    packages/core/src/utils/expoGo.ts
    packages/core/src/utils/typography.ts
    packages/core/src/config/defineConfig.ts
    packages/core/src/config/types.ts
    packages/core/src/theme/components.ts
  </files>
  <action>
    Add JSDoc comments to all exported functions, constants, and types in utility and config files.

    **Utility files pattern:**
    ```typescript
    /**
     * Merges multiple style objects, filtering out falsy values.
     * React Native equivalent of clsx/cn for web.
     *
     * @param styles - Style objects or falsy values to merge
     * @returns Merged style object
     *
     * @example
     * ```tsx
     * const style = cn(baseStyle, isActive && activeStyle, disabled && disabledStyle);
     * ```
     */
    export function cn(...styles: ...) { ... }
    ```

    **Platform utilities** — document each exported constant/function:
    - `isIOS`, `isAndroid`, `isWeb` — platform detection booleans
    - `iosVersion`, `androidApiLevel` — version numbers
    - `isTablet`, `pixelRatio` — device characteristics
    - `roundToNearestPixel`, `getFontScale` — utility functions

    **Accessibility utilities** — document each a11y helper:
    - `buttonA11y`, `toggleA11y`, `linkA11y`, `imageA11y`, `headingA11y`

    **Haptics** — document haptic feedback functions:
    - `haptic`, `hapticsAvailable`, `setHapticsEnabled`, `isHapticsEnabled`, `hapticPresets`

    **ExpoGo** — document Expo Go detection:
    - `isExpoGo`, `setAnimationsDisabled`, `areAnimationsDisabled`

    **Config** — document config functions:
    - `defineConfig`, `resolveConfig`, `ConfigProvider`, `useConfig`, `defaultConfig`

    **Component tokens** (`components.ts`) — add a file-level JSDoc block describing the purpose of component tokens. Add brief JSDoc to each exported token object (buttonTokens, inputTokens, etc.) with a single sentence describing what it configures. Do NOT add @example to every component token — a file-level example is sufficient.

    Do NOT modify any logic or values — documentation only.
    Keep JSDoc concise. Skip exports that already have adequate JSDoc.
  </action>
  <verify>
    - `npx tsc --noEmit -p packages/core/tsconfig.json` passes
    - `grep -c "/\*\*" packages/core/src/utils/cn.ts` shows at least 1 JSDoc block
    - `grep -c "/\*\*" packages/core/src/utils/platform.ts` shows at least 5 JSDoc blocks
    - `grep -c "/\*\*" packages/core/src/utils/haptics.ts` shows at least 3 JSDoc blocks
    - `grep -c "/\*\*" packages/core/src/theme/components.ts` shows at least 10 JSDoc blocks
  </verify>
  <done>
    All utility files, config files, and component token file have JSDoc on every exported symbol. Functions have @param and @returns. IDE intellisense shows meaningful descriptions for all public API exports from @metacells/mcellui-core.
  </done>
</task>

</tasks>

<verification>
1. TypeScript compilation passes for core package
2. Every exported function in utils/ has @param and @returns JSDoc tags
3. Every exported token object in theme/ has a JSDoc description
4. Key tokens (spacing, colors, radius, typography) include @example blocks
5. No logic or values were changed — documentation only
</verification>

<success_criteria>
- 100% of public exports have JSDoc comments
- Key theme tokens have @example blocks showing useTheme() usage
- All utility functions have @param and @returns documentation
- TypeScript compilation still passes
- CORE-01 (token documentation) and CORE-02 (utility documentation) are fulfilled
</success_criteria>

<output>
After completion, create `.planning/phases/18-core-package-exports/18-02-SUMMARY.md`
</output>
