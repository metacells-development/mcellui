---
phase: 09-blocks-auth-settings
plan: 03
type: execute
wave: 2
depends_on: ["09-01"]
files_modified:
  - packages/registry/blocks/profile-block.tsx
  - packages/registry/blocks/settings-list-block.tsx
autonomous: true

must_haves:
  truths:
    - "ProfileBlock uses profileBlockTokens for all typography (no hardcoded font sizes)"
    - "SettingsListBlock uses settingsBlockTokens for all typography (no hardcoded font sizes)"
    - "Both blocks maintain exact same visual appearance after migration"
  artifacts:
    - path: "packages/registry/blocks/profile-block.tsx"
      provides: "ProfileBlock with token-based typography"
      contains: "profileBlockTokens"
    - path: "packages/registry/blocks/settings-list-block.tsx"
      provides: "SettingsListBlock with token-based typography"
      contains: "settingsBlockTokens"
  key_links:
    - from: "packages/registry/blocks/profile-block.tsx"
      to: "@metacells/mcellui-core"
      via: "import profileBlockTokens"
      pattern: "import.*profileBlockTokens.*from"
---

<objective>
Migrate ProfileBlock and SettingsListBlock to use centralized tokens for all typography, eliminating hardcoded font sizes and weights.

Purpose: Profile and settings blocks will use theme tokens for consistent typography, enabling theme customization and design system coherence.

Output: Updated ProfileBlock and SettingsListBlock consuming their respective tokens from core
</objective>

<execution_context>
@/Users/johanneschristler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/johanneschristler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/09-blocks-auth-settings/09-01-SUMMARY.md
@packages/core/src/theme/components.ts
@packages/registry/blocks/profile-block.tsx
@packages/registry/blocks/settings-list-block.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate ProfileBlock to profileBlockTokens</name>
  <files>packages/registry/blocks/profile-block.tsx</files>
  <action>
Update ProfileBlock to use profileBlockTokens from core instead of hardcoded typography.

1. Import profileBlockTokens:
```typescript
import { useTheme, profileBlockTokens } from '@metacells/mcellui-core';
```

2. Replace hardcoded styles with token values:

**Name (line ~117, styles.name):**
Replace `fontSize: 24, fontWeight: '700'` with:
```typescript
fontSize: profileBlockTokens.name.fontSize,
fontWeight: profileBlockTokens.name.fontWeight,
```

**Subtitle (line ~122, styles.subtitle):**
Replace `fontSize: 15` with:
```typescript
fontSize: profileBlockTokens.subtitle.fontSize,
```

**Bio (line ~135, styles.bio):**
Replace `fontSize: 15, lineHeight: 22` with:
```typescript
fontSize: profileBlockTokens.bio.fontSize,
lineHeight: profileBlockTokens.bio.lineHeight,
```

**Stat value (line ~173, styles.statValue):**
Replace `fontSize: 20, fontWeight: '700'` with:
```typescript
fontSize: profileBlockTokens.stat.valueFontSize,
fontWeight: profileBlockTokens.stat.valueFontWeight,
```

**Stat label (line ~179, styles.statLabel):**
Replace `fontSize: 13` with:
```typescript
fontSize: profileBlockTokens.stat.labelFontSize,
```

3. Update the StyleSheet:
- Remove fontSize/fontWeight from styles.name, styles.subtitle, styles.bio, styles.statValue, styles.statLabel
- Keep structural styles (textAlign, flex, etc.)

Note: The margin values using spacing tokens are already correct (marginTop: spacing[3], etc.) - don't change those.
  </action>
  <verify>
Run `npx tsc --noEmit` in packages/registry to verify no TypeScript errors.
Run the demo app and verify ProfileBlock renders identically to before migration.
  </verify>
  <done>
ProfileBlock uses profileBlockTokens for all typography values - no hardcoded font sizes remain.
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate SettingsListBlock to settingsBlockTokens</name>
  <files>packages/registry/blocks/settings-list-block.tsx</files>
  <action>
Update SettingsListBlock to use settingsBlockTokens from core instead of hardcoded typography.

1. Import settingsBlockTokens:
```typescript
import { useTheme, settingsBlockTokens } from '@metacells/mcellui-core';
```

2. Replace hardcoded styles with token values:

**Group title (line ~124, styles.groupTitle):**
Replace `fontSize: 12, fontWeight: '600', letterSpacing: 0.5` with:
```typescript
fontSize: settingsBlockTokens.group.titleFontSize,
fontWeight: settingsBlockTokens.group.titleFontWeight,
letterSpacing: settingsBlockTokens.group.titleLetterSpacing,
```

**Group description (line ~132, styles.groupDescription):**
Replace `fontSize: 13` with:
```typescript
fontSize: settingsBlockTokens.group.descriptionFontSize,
```

**Item label (line ~193, styles.itemLabel):**
Replace `fontSize: 16` with:
```typescript
fontSize: settingsBlockTokens.item.labelFontSize,
```

**Item description (line ~206, styles.itemDescription):**
Replace `fontSize: 13` with:
```typescript
fontSize: settingsBlockTokens.item.descriptionFontSize,
```

**Display value (line ~228, styles.displayValue):**
Replace `fontSize: 15` with:
```typescript
fontSize: settingsBlockTokens.item.displayValueFontSize,
```

**Chevron (line ~235, styles.chevron):**
Replace `fontSize: 16, fontWeight: '600'` with:
```typescript
fontSize: settingsBlockTokens.item.chevronFontSize,
fontWeight: settingsBlockTokens.item.chevronFontWeight,
```

**Item padding (line ~183):**
Replace `paddingVertical: spacing[3.5], paddingHorizontal: spacing[4]` with:
```typescript
paddingVertical: settingsBlockTokens.item.paddingVertical,
paddingHorizontal: settingsBlockTokens.item.paddingHorizontal,
```

3. Update the StyleSheet:
- Remove fontSize/fontWeight/letterSpacing from the style definitions
- Keep structural styles (flexDirection, flex, overflow, etc.)
  </action>
  <verify>
Run `npx tsc --noEmit` in packages/registry to verify no TypeScript errors.
Run the demo app and verify SettingsListBlock renders identically to before migration.
  </verify>
  <done>
SettingsListBlock uses settingsBlockTokens for all typography and padding values - no hardcoded values remain.
  </done>
</task>

</tasks>

<verification>
1. TypeScript compilation passes for both files
2. Visual regression: ProfileBlock and SettingsListBlock look identical before/after
3. No hardcoded font sizes: grep for "fontSize: [0-9]" should return zero matches
4. Token imports present: grep for "profileBlockTokens" and "settingsBlockTokens"
</verification>

<success_criteria>
- ProfileBlock imports and uses profileBlockTokens for all typography
- SettingsListBlock imports and uses settingsBlockTokens for all typography and item padding
- No hardcoded fontSize values remain in either file
- Visual appearance is unchanged
- Settings switches and navigation items still function correctly
</success_criteria>

<output>
After completion, create `.planning/phases/09-blocks-auth-settings/09-03-SUMMARY.md`
</output>
