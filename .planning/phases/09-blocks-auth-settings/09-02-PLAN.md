---
phase: 09-blocks-auth-settings
plan: 02
type: execute
wave: 2
depends_on: ["09-01"]
files_modified:
  - packages/registry/blocks/login-block.tsx
  - packages/registry/blocks/signup-block.tsx
autonomous: true

must_haves:
  truths:
    - "LoginBlock uses authBlockTokens for all typography (no hardcoded font sizes)"
    - "SignupBlock uses authBlockTokens for all typography (no hardcoded font sizes)"
    - "Both blocks maintain exact same visual appearance after migration"
  artifacts:
    - path: "packages/registry/blocks/login-block.tsx"
      provides: "LoginBlock with token-based typography"
      contains: "authBlockTokens"
    - path: "packages/registry/blocks/signup-block.tsx"
      provides: "SignupBlock with token-based typography"
      contains: "authBlockTokens"
  key_links:
    - from: "packages/registry/blocks/login-block.tsx"
      to: "@metacells/mcellui-core"
      via: "import authBlockTokens"
      pattern: "import.*authBlockTokens.*from"
---

<objective>
Migrate LoginBlock and SignupBlock to use centralized authBlockTokens for all typography, eliminating hardcoded font sizes and weights.

Purpose: Auth blocks will use theme tokens for consistent typography, enabling theme customization and design system coherence.

Output: Updated LoginBlock and SignupBlock consuming authBlockTokens from core
</objective>

<execution_context>
@/Users/johanneschristler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/johanneschristler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/09-blocks-auth-settings/09-01-SUMMARY.md
@packages/core/src/theme/components.ts
@packages/registry/blocks/login-block.tsx
@packages/registry/blocks/signup-block.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate LoginBlock to authBlockTokens</name>
  <files>packages/registry/blocks/login-block.tsx</files>
  <action>
Update LoginBlock to use authBlockTokens from core instead of hardcoded typography.

1. Import authBlockTokens:
```typescript
import { useTheme, authBlockTokens } from '@metacells/mcellui-core';
```

2. Replace hardcoded styles with token values. Update the styles object and inline styles:

**Title (line ~129):**
Replace `fontSize: 28, fontWeight: '700'` with:
```typescript
fontSize: authBlockTokens.header.titleFontSize,
fontWeight: authBlockTokens.header.titleFontWeight,
```

**Subtitle (line ~133):**
Replace `fontSize: 16` with:
```typescript
fontSize: authBlockTokens.header.subtitleFontSize,
```

**Forgot link (line ~171):**
Replace `fontSize: 14, fontWeight: '500'` with:
```typescript
fontSize: authBlockTokens.form.forgotLinkFontSize,
fontWeight: authBlockTokens.form.forgotLinkFontWeight,
```

**Divider text (line ~219):**
Replace `fontSize: 14` with:
```typescript
fontSize: authBlockTokens.divider.fontSize,
```

**Footer text (line ~244):**
Replace `fontSize: 14` with:
```typescript
fontSize: authBlockTokens.footer.textFontSize,
```

**Footer link (line ~250):**
Replace `fontSize: 14, fontWeight: '600'` with:
```typescript
fontSize: authBlockTokens.footer.linkFontSize,
fontWeight: authBlockTokens.footer.linkFontWeight,
```

**Social buttons gap (line ~226):**
Replace `gap: spacing[3]` with:
```typescript
gap: authBlockTokens.social.gap,
```

3. Update the StyleSheet to remove hardcoded values where now using tokens directly:
- Remove fontSize/fontWeight from styles.title, styles.subtitle, styles.forgotLink, styles.dividerText, styles.footerText, styles.footerLink
- These styles may need to become dynamic or removed if fully replaced by inline token usage

Note: Keep the structural styles (flexDirection, alignItems, etc.) in StyleSheet - only migrate typography to tokens.
  </action>
  <verify>
Run `npx tsc --noEmit` in packages/registry to verify no TypeScript errors.
Run the demo app and verify LoginBlock renders identically to before migration.
  </verify>
  <done>
LoginBlock uses authBlockTokens for all typography values - no hardcoded font sizes remain in the component.
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate SignupBlock to authBlockTokens</name>
  <files>packages/registry/blocks/signup-block.tsx</files>
  <action>
Update SignupBlock to use authBlockTokens from core instead of hardcoded typography.

1. Import authBlockTokens:
```typescript
import { useTheme, authBlockTokens } from '@metacells/mcellui-core';
```

2. Replace hardcoded styles with token values:

**Title (line ~130):**
Replace `fontSize: 28, fontWeight: '700'` with:
```typescript
fontSize: authBlockTokens.header.titleFontSize,
fontWeight: authBlockTokens.header.titleFontWeight,
```

**Subtitle (line ~136):**
Replace `fontSize: 16` with:
```typescript
fontSize: authBlockTokens.header.subtitleFontSize,
```

**Password hint (line ~203):**
Replace `fontSize: 12` with:
```typescript
fontSize: authBlockTokens.form.passwordHintFontSize,
```

**Terms text (line ~225):**
Replace `fontSize: 14, lineHeight: 20` with:
```typescript
fontSize: authBlockTokens.footer.textFontSize,
lineHeight: 20, // Keep lineHeight as is, not in tokens
```

**Terms link:**
Replace `fontWeight: '600'` with:
```typescript
fontWeight: authBlockTokens.footer.linkFontWeight,
```

**Error text (line ~246):**
Replace `fontSize: 12, fontWeight: '500'` with:
```typescript
fontSize: authBlockTokens.form.passwordHintFontSize, // Same as password hint
fontWeight: fontWeight.medium, // Import fontWeight from core
```

**Footer text (line ~266):**
Replace `fontSize: 14` with:
```typescript
fontSize: authBlockTokens.footer.textFontSize,
```

**Footer link (line ~271):**
Replace `fontSize: 14, fontWeight: '600'` with:
```typescript
fontSize: authBlockTokens.footer.linkFontSize,
fontWeight: authBlockTokens.footer.linkFontWeight,
```

3. Update the StyleSheet to remove hardcoded values where now using tokens directly.
  </action>
  <verify>
Run `npx tsc --noEmit` in packages/registry to verify no TypeScript errors.
Run the demo app and verify SignupBlock renders identically to before migration.
  </verify>
  <done>
SignupBlock uses authBlockTokens for all typography values - no hardcoded font sizes remain in the component.
  </done>
</task>

</tasks>

<verification>
1. TypeScript compilation passes for both files
2. Visual regression: LoginBlock and SignupBlock look identical before/after
3. No hardcoded font sizes: grep for "fontSize: [0-9]" should return zero matches in both files
4. Token imports present: grep for "authBlockTokens" in both files
</verification>

<success_criteria>
- LoginBlock imports and uses authBlockTokens for all typography
- SignupBlock imports and uses authBlockTokens for all typography
- No hardcoded fontSize values remain in either file
- Visual appearance is unchanged
- Form validation and loading states still work correctly
</success_criteria>

<output>
After completion, create `.planning/phases/09-blocks-auth-settings/09-02-SUMMARY.md`
</output>
