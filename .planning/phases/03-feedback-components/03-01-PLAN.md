---
phase: 03-feedback-components
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/core/src/constants.ts
  - packages/core/src/theme/components.ts
  - packages/core/src/index.ts
autonomous: true

must_haves:
  truths:
    - "All feedback component constants are centralized in constants.ts"
    - "All feedback component tokens are defined in components.ts"
    - "Constants are exported from @metacells/mcellui-core"
  artifacts:
    - path: "packages/core/src/constants.ts"
      provides: "ALERT_CONSTANTS, POPOVER_CONSTANTS, TOOLTIP_CONSTANTS"
      contains: "export const ALERT_CONSTANTS"
    - path: "packages/core/src/theme/components.ts"
      provides: "alertTokens, overlayTypography tokens"
      contains: "export const alertTokens"
  key_links:
    - from: "packages/core/src/index.ts"
      to: "constants.ts"
      via: "export"
      pattern: "export.*ALERT_CONSTANTS"
---

<objective>
Extend the core token and constants system with feedback component tokens.

Purpose: Establish the token foundation for all feedback components so that Dialog, AlertDialog, Sheet, Toast, Alert, Popover, and Tooltip can reference centralized values instead of hardcoded numbers.

Output: Extended constants.ts and components.ts with feedback component tokens.
</objective>

<execution_context>
@/Users/johanneschristler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/johanneschristler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/03-feedback-components/03-RESEARCH.md

@packages/core/src/constants.ts
@packages/core/src/theme/components.ts
@packages/core/src/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add feedback component constants to constants.ts</name>
  <files>packages/core/src/constants.ts</files>
  <action>
Add new constant objects for feedback components that are missing:

1. ALERT_CONSTANTS - for Alert component:
   - Size tokens moved from component (sm: padding 12, md: padding 16, lg: padding 20)
   - Icon sizes per size (sm: 16, md: 20, lg: 24)
   - Gap values (sm: 8, md: 12, lg: 16)
   - Title font sizes (sm: 13, md: 15, lg: 17)
   - Text font sizes (sm: 12, md: 14, lg: 16)

2. POPOVER_CONSTANTS - for Popover component:
   - Default offset: 8
   - Default maxWidth: 280
   - Min width: 120
   - Animation duration (in: 150, out: 100)
   - Spring config (damping: 20, stiffness: 400)

3. TOOLTIP_CONSTANTS - for Tooltip component:
   - Padding: 12
   - Margin: 8
   - Arrow size: 8
   - Default max width: 250
   - Default delay: 500ms
   - Animation duration (in: 150, out: 100)

Also add type exports at the bottom for each new constant object.

Do NOT modify existing constants (SHEET_CONSTANTS, DIALOG_CONSTANTS, TOAST_CONSTANTS are already complete).
  </action>
  <verify>
Run `npx tsc --noEmit -p packages/core` - no type errors.
Grep for new exports: `grep -E "ALERT_CONSTANTS|POPOVER_CONSTANTS|TOOLTIP_CONSTANTS" packages/core/src/constants.ts`
  </verify>
  <done>
Three new constant objects (ALERT_CONSTANTS, POPOVER_CONSTANTS, TOOLTIP_CONSTANTS) exist in constants.ts with type exports.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add overlay typography tokens to components.ts</name>
  <files>packages/core/src/theme/components.ts</files>
  <action>
Add overlayTypography tokens section for consistent typography across Dialog, AlertDialog, Sheet:

```typescript
// =============================================================================
// Overlay Typography Tokens (Dialog, AlertDialog, Sheet)
// =============================================================================

export const overlayTypography = {
  title: {
    fontSize: fontSize.lg,     // 18
    fontWeight: fontWeight.semibold,
    lineHeight: 24,
  },
  description: {
    fontSize: fontSize.base,   // 14
    fontWeight: fontWeight.normal,
    lineHeight: 20,
  },
} as const;
```

Also add overlayTypography to the components export object at the bottom of the file.

This provides consistent typography tokens for all modal-style components instead of each having hardcoded values.
  </action>
  <verify>
Run `npx tsc --noEmit -p packages/core` - no type errors.
Check export: `grep "overlayTypography" packages/core/src/theme/components.ts`
  </verify>
  <done>
overlayTypography token object exists in components.ts and is included in the components export.
  </done>
</task>

<task type="auto">
  <name>Task 3: Export new constants from index.ts</name>
  <files>packages/core/src/index.ts</files>
  <action>
Ensure new constants are exported from the package index:

1. Check if constants.ts exports are already re-exported (likely via `export * from './constants'`)
2. If not, add the specific exports:
   - ALERT_CONSTANTS
   - POPOVER_CONSTANTS
   - TOOLTIP_CONSTANTS

Also verify overlayTypography is accessible via the theme exports (it should be if components.ts exports are already set up correctly).

Verify no circular dependencies or duplicate exports.
  </action>
  <verify>
Run `npx tsc --noEmit -p packages/core` - no type errors.
Check exports work: `grep -E "ALERT_CONSTANTS|overlayTypography" packages/core/src/index.ts` or trace through existing exports.
  </verify>
  <done>
All new constants (ALERT_CONSTANTS, POPOVER_CONSTANTS, TOOLTIP_CONSTANTS) and tokens (overlayTypography) are accessible when importing from @metacells/mcellui-core.
  </done>
</task>

</tasks>

<verification>
After all tasks:
1. `npx tsc --noEmit -p packages/core` passes without errors
2. All new constants exist in constants.ts
3. overlayTypography exists in components.ts
4. Exports are accessible from the package
</verification>

<success_criteria>
- ALERT_CONSTANTS with sm/md/lg sizes for padding, icons, gaps, typography
- POPOVER_CONSTANTS with offset, maxWidth, animation values
- TOOLTIP_CONSTANTS with padding, margin, arrow, delay values
- overlayTypography with title and description styles
- All exports work via @metacells/mcellui-core
- TypeScript compiles without errors
</success_criteria>

<output>
After completion, create `.planning/phases/03-feedback-components/03-01-SUMMARY.md`
</output>
