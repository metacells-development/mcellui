---
phase: 03-feedback-components
plan: 02
type: execute
wave: 2
depends_on: ["03-01"]
files_modified:
  - packages/registry/ui/dialog.tsx
  - packages/registry/ui/alert-dialog.tsx
  - packages/registry/ui/sheet.tsx
autonomous: true

must_haves:
  truths:
    - "Dialog uses overlayTypography tokens for title and description font sizes"
    - "AlertDialog uses overlayTypography tokens and spacing tokens for padding"
    - "Sheet uses overlayTypography tokens for title and description font sizes"
    - "No hardcoded font sizes (18, 14) in modal components"
  artifacts:
    - path: "packages/registry/ui/dialog.tsx"
      provides: "Dialog with token-based typography"
      contains: "overlayTypography"
    - path: "packages/registry/ui/alert-dialog.tsx"
      provides: "AlertDialog with token-based padding and typography"
      contains: "overlayTypography"
    - path: "packages/registry/ui/sheet.tsx"
      provides: "Sheet with token-based typography"
      contains: "overlayTypography"
  key_links:
    - from: "packages/registry/ui/dialog.tsx"
      to: "@metacells/mcellui-core"
      via: "import"
      pattern: "import.*overlayTypography"
---

<objective>
Migrate Dialog, AlertDialog, and Sheet to use centralized typography tokens.

Purpose: These modal-style components currently have hardcoded typography values (fontSize: 18, fontSize: 14). Migrating them to overlayTypography tokens ensures visual consistency and makes future changes easier.

Output: Three modal components using centralized tokens instead of hardcoded values.
</objective>

<execution_context>
@/Users/johanneschristler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/johanneschristler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/03-feedback-components/03-01-SUMMARY.md

@packages/registry/ui/dialog.tsx
@packages/registry/ui/alert-dialog.tsx
@packages/registry/ui/sheet.tsx
@packages/core/src/theme/components.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate Dialog to use overlayTypography tokens</name>
  <files>packages/registry/ui/dialog.tsx</files>
  <action>
1. Update import from @metacells/mcellui-core to include overlayTypography (it should be accessible via components or direct import)

2. In DialogTitle styles, replace hardcoded:
   ```typescript
   fontSize: 18,
   fontWeight: '600',
   ```
   With token-based:
   ```typescript
   fontSize: overlayTypography.title.fontSize,
   fontWeight: overlayTypography.title.fontWeight,
   ```

3. In DialogDescription styles, replace hardcoded:
   ```typescript
   fontSize: 14,
   lineHeight: 20,
   ```
   With token-based:
   ```typescript
   fontSize: overlayTypography.description.fontSize,
   lineHeight: overlayTypography.description.lineHeight,
   ```

Note: The overlayTypography tokens should be imported from the theme via useTheme() hook. Check how other tokens are accessed (likely via `const { ..., components } = useTheme()` or direct import).

If overlayTypography is exported from components.ts, it can be imported directly. Check the pattern used by other components (inputTokens, buttonTokens etc).
  </action>
  <verify>
Run `npx tsc --noEmit -p packages/registry` - no type errors.
Grep for removal of hardcoded sizes: `grep -E "fontSize: 18|fontSize: 14" packages/registry/ui/dialog.tsx` should return nothing.
  </verify>
  <done>
Dialog no longer has hardcoded font sizes, uses overlayTypography tokens for title (18px, semibold) and description (14px, lineHeight 20).
  </done>
</task>

<task type="auto">
  <name>Task 2: Migrate AlertDialog to use tokens</name>
  <files>packages/registry/ui/alert-dialog.tsx</files>
  <action>
1. Add overlayTypography import (same pattern as Dialog)

2. In AlertDialogContent styles, the dialog has hardcoded `padding: 24`. Replace with:
   - Use DIALOG_CONSTANTS.contentPadding (already defined as 24) OR
   - Use spacing tokens: `padding: spacing[6]` (24px)

   Since AlertDialog is conceptually similar to Dialog, use DIALOG_CONSTANTS.contentPadding for consistency.

3. In AlertDialogTitle styles, replace hardcoded:
   ```typescript
   fontSize: 18,
   fontWeight: '600',
   ```
   With overlayTypography tokens.

4. In AlertDialogDescription styles, replace hardcoded:
   ```typescript
   fontSize: 14,
   lineHeight: 20,
   ```
   With overlayTypography tokens.

5. In AlertDialogCancel and AlertDialogAction button styles, font size is `fontSize: 14, fontWeight: '600'`.
   These are button-like elements, so they can stay as-is OR use buttonTokens if available.
   Since they're small inline buttons, keeping them hardcoded at 14px is acceptable.

Note: The import for DIALOG_CONSTANTS may need to be added if not present. Also need to add import for areAnimationsDisabled if not present (AlertDialog currently doesn't use it but should for accessibility).
  </action>
  <verify>
Run `npx tsc --noEmit -p packages/registry` - no type errors.
Grep: `grep -E "padding: 24|fontSize: 18" packages/registry/ui/alert-dialog.tsx` should return nothing or only button styles.
  </verify>
  <done>
AlertDialog uses DIALOG_CONSTANTS.contentPadding and overlayTypography tokens. No hardcoded padding or title font sizes.
  </done>
</task>

<task type="auto">
  <name>Task 3: Migrate Sheet to use overlayTypography tokens</name>
  <files>packages/registry/ui/sheet.tsx</files>
  <action>
1. Add overlayTypography import

2. In SheetTitle styles, replace hardcoded:
   ```typescript
   fontSize: 18,
   fontWeight: '600',
   ```
   With overlayTypography tokens.

3. In SheetDescription styles, replace hardcoded:
   ```typescript
   fontSize: 14,
   ```
   With overlayTypography tokens.

4. In SheetFooter styles, there's a hardcoded `gap: 8`. Replace with spacing token:
   ```typescript
   gap: spacing[2]  // 8px
   ```
   This requires accessing spacing from useTheme(). Check if SheetFooter already uses useTheme().
   If not, add useTheme() hook call or use the spacing token from existing theme context.

Note: Sheet already uses many theme tokens correctly. This is just filling in the gaps for typography and footer gap.
  </action>
  <verify>
Run `npx tsc --noEmit -p packages/registry` - no type errors.
Grep: `grep -E "fontSize: 18|fontSize: 14|gap: 8" packages/registry/ui/sheet.tsx` should return nothing.
  </verify>
  <done>
Sheet uses overlayTypography for title/description and spacing tokens for footer gap. No hardcoded values remain.
  </done>
</task>

</tasks>

<verification>
After all tasks:
1. `npx tsc --noEmit -p packages/registry` passes
2. No hardcoded font sizes (18, 14) in Dialog, AlertDialog, Sheet styles
3. No hardcoded padding (24) in AlertDialog
4. Components still render correctly (visual structure unchanged)
</verification>

<success_criteria>
- Dialog uses overlayTypography.title and overlayTypography.description
- AlertDialog uses DIALOG_CONSTANTS.contentPadding and overlayTypography tokens
- Sheet uses overlayTypography tokens and spacing for footer gap
- All three components compile without TypeScript errors
- Visual appearance is unchanged (same values, now from tokens)
</success_criteria>

<output>
After completion, create `.planning/phases/03-feedback-components/03-02-SUMMARY.md`
</output>
