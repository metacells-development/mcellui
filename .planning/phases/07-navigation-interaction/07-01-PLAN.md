---
phase: 07-navigation-interaction
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/core/src/theme/components.ts
  - packages/core/src/theme/radius.ts
autonomous: true

must_haves:
  truths:
    - "Navigation component tokens are defined in core theme"
    - "Tabs can access fontSize, padding tokens from centralized constants"
    - "Accordion and Collapsible can access spring animation tokens"
    - "Carousel indicator tokens control dot dimensions"
    - "SwipeableRow action tokens control button dimensions"
  artifacts:
    - path: "packages/core/src/theme/components.ts"
      provides: "tabsTokens, accordionTokens, collapsibleTokens, carouselTokens, swipeableRowTokens"
      contains: "tabsTokens"
    - path: "packages/core/src/theme/radius.ts"
      provides: "componentRadius entries for tabs, accordion, carousel"
      contains: "tabs:"
  key_links:
    - from: "packages/core/src/theme/components.ts"
      to: "packages/registry/ui/tabs.tsx"
      via: "import tabsTokens"
      pattern: "tabsTokens"
---

<objective>
Extend core token system with navigation and interaction component tokens

Purpose: Provide centralized constants for Tabs, Accordion, Collapsible, Carousel, and SwipeableRow to eliminate hardcoded values (font sizes, padding, animation durations, indicator dimensions) and ensure consistent styling.

Output: Updated components.ts with navigation tokens, updated radius.ts with componentRadius entries
</objective>

<execution_context>
@/Users/johanneschristler/.claude/get-shit-done/workflows/execute-plan.md
@/Users/johanneschristler/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/07-navigation-interaction/07-RESEARCH.md
@packages/core/src/theme/components.ts
@packages/core/src/theme/radius.ts
@packages/core/src/theme/spacing.ts
@packages/core/src/theme/typography.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add navigation component tokens to components.ts</name>
  <files>packages/core/src/theme/components.ts</files>
  <action>
Add constants and tokens for navigation components. Place after existing component tokens (after circularProgressTokens):

```typescript
// =============================================================================
// Tabs Component Tokens
// =============================================================================

export const TABS_CONSTANTS = {
  /** Indicator animation spring config */
  spring: { damping: 20, stiffness: 200 },
  /** Indicator height for underline variant */
  indicatorHeight: 2,
  /** Container padding for pill variant */
  pillPadding: 4,
} as const;

export const tabsTokens = {
  trigger: {
    fontSize: fontSize.base,
    fontWeight: fontWeight.medium,
    activeFontWeight: fontWeight.semibold,
    paddingVertical: spacing[2],
    paddingHorizontal: spacing[3],
  },
  triggerUnderline: {
    paddingVertical: spacing[3],
    paddingHorizontal: spacing[4],
  },
  content: {
    marginTop: spacing[4],
  },
  indicator: {
    pillTop: 4,
    pillBottom: 4,
    underlineHeight: TABS_CONSTANTS.indicatorHeight,
  },
} as const;

// =============================================================================
// Accordion Component Tokens
// =============================================================================

export const ACCORDION_CONSTANTS = {
  /** Spring animation config for smooth expand/collapse */
  spring: { damping: 20, stiffness: 200, mass: 0.5 },
  /** Chevron icon size */
  chevronSize: 16,
} as const;

export const accordionTokens = {
  trigger: {
    fontSize: fontSize.md,
    fontWeight: fontWeight.medium,
    paddingVertical: spacing[4],
    paddingHorizontal: spacing[4],
    iconMargin: spacing[2],
  },
  content: {
    paddingHorizontal: spacing[4],
    paddingBottom: spacing[4],
  },
  item: {
    borderWidth: 1,
  },
} as const;

// =============================================================================
// Collapsible Component Tokens
// =============================================================================

export const COLLAPSIBLE_CONSTANTS = {
  /** Spring animation config (same as accordion for consistency) */
  spring: { damping: 20, stiffness: 200, mass: 0.5 },
  /** Chevron icon size */
  chevronSize: 16,
} as const;

export const collapsibleTokens = {
  trigger: {
    paddingVertical: spacing[3],
    paddingHorizontal: spacing[4],
    iconMargin: spacing[2],
  },
} as const;

// =============================================================================
// Carousel Component Tokens
// =============================================================================

export const CAROUSEL_CONSTANTS = {
  /** Default autoplay interval in ms */
  autoplayInterval: 4000,
  /** Scroll event throttle (16ms = 60fps) */
  scrollEventThrottle: 16,
} as const;

export const carouselTokens = {
  indicator: {
    dotSize: 8,
    dotActiveWidth: 24,
    dotActiveScale: 1,
    dotInactiveScale: 0.8,
    dotInactiveOpacity: 0.4,
    gap: spacing[1.5],
    paddingVertical: spacing[2],
  },
  lineIndicator: {
    activeWidth: 24,
    inactiveWidth: 8,
  },
} as const;

// =============================================================================
// SwipeableRow Component Tokens
// =============================================================================

export const SWIPEABLE_ROW_CONSTANTS = {
  /** Default action button width */
  actionWidth: 80,
  /** Spring animation config */
  spring: { damping: 20, stiffness: 200 },
  /** Velocity threshold for snap decision (px/s) */
  velocityThreshold: 500,
  /** Full swipe trigger ratio (0.5 = 50% of screen width) */
  fullSwipeRatio: 0.5,
  /** Resistance factor when overswiping */
  resistanceFactor: 0.3,
} as const;

export const swipeableRowTokens = {
  action: {
    width: SWIPEABLE_ROW_CONSTANTS.actionWidth,
    paddingHorizontal: spacing[2],
    iconMargin: spacing[1],
    labelFontSize: fontSize.xs,
    labelFontWeight: fontWeight.semibold,
  },
} as const;
```

Update the components export object to include new tokens:
```typescript
export const components = {
  // ... existing entries
  tabs: tabsTokens,
  accordion: accordionTokens,
  collapsible: collapsibleTokens,
  carousel: carouselTokens,
  swipeableRow: swipeableRowTokens,
  // ... existing entries
} as const;
```

Place the new constant exports (TABS_CONSTANTS, ACCORDION_CONSTANTS, etc.) before their respective token definitions since tokens reference them.
  </action>
  <verify>
Run TypeScript compilation:
```bash
cd /Users/johanneschristler/Code/metacells/other/mcellui && npx tsc --noEmit -p packages/core/tsconfig.json
```
Verify no errors and all new tokens export correctly.
  </verify>
  <done>
Navigation component tokens are defined in components.ts with proper exports. TypeScript compiles without errors. Components object includes tabs, accordion, collapsible, carousel, swipeableRow tokens.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add componentRadius entries for navigation components</name>
  <files>packages/core/src/theme/radius.ts</files>
  <action>
Add component-specific radius entries to ComponentRadiusTokens interface and createComponentRadius function:

Update ComponentRadiusTokens interface to add:
```typescript
export interface ComponentRadiusTokens {
  // ... existing entries
  tabs: number;
  tabsIndicator: number;
  accordion: number;
  carousel: number;
}
```

Update createComponentRadius function to add:
```typescript
export function createComponentRadius(radiusTokens: RadiusTokens): ComponentRadiusTokens {
  return {
    // ... existing entries
    // Tabs: container uses lg for pill variant, indicator uses md
    tabs: radiusTokens.lg,
    tabsIndicator: radiusTokens.md,
    // Accordion: container uses lg for rounded card look
    accordion: radiusTokens.lg,
    // Carousel: indicator dots use full for perfect circles
    carousel: PILL_RADIUS,
  };
}
```

Place new entries alphabetically or at the end of existing entries for consistency.
  </action>
  <verify>
Run TypeScript compilation:
```bash
cd /Users/johanneschristler/Code/metacells/other/mcellui && npx tsc --noEmit -p packages/core/tsconfig.json
```
Verify no errors. Check that componentRadius includes tabs, tabsIndicator, accordion, carousel.
  </verify>
  <done>
ComponentRadiusTokens interface includes tabs, tabsIndicator, accordion, carousel entries. createComponentRadius function returns values for all new entries. TypeScript compiles without errors.
  </done>
</task>

</tasks>

<verification>
1. `packages/core/src/theme/components.ts` contains TABS_CONSTANTS, tabsTokens
2. `packages/core/src/theme/components.ts` contains ACCORDION_CONSTANTS, accordionTokens
3. `packages/core/src/theme/components.ts` contains COLLAPSIBLE_CONSTANTS, collapsibleTokens
4. `packages/core/src/theme/components.ts` contains CAROUSEL_CONSTANTS, carouselTokens
5. `packages/core/src/theme/components.ts` contains SWIPEABLE_ROW_CONSTANTS, swipeableRowTokens
6. components export includes tabs, accordion, collapsible, carousel, swipeableRow
7. `packages/core/src/theme/radius.ts` ComponentRadiusTokens includes tabs, tabsIndicator, accordion, carousel
8. TypeScript compilation passes for core package
</verification>

<success_criteria>
- tabsTokens.trigger.fontSize references fontSize.base (14)
- accordionTokens.trigger.paddingVertical references spacing[4] (16)
- carouselTokens.indicator.dotSize = 8
- swipeableRowTokens.action.width = 80
- TABS_CONSTANTS.spring.damping = 20
- componentRadius.tabs uses radiusTokens.lg
- No hardcoded numeric values in token definitions (all reference spacing/fontSize/fontWeight)
</success_criteria>

<output>
After completion, create `.planning/phases/07-navigation-interaction/07-01-SUMMARY.md`
</output>
