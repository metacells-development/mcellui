# Milestone v1.2: Consistency Sweep

**Status:** ✅ SHIPPED 2026-01-28
**Phases:** 19-21
**Total Plans:** 21

## Overview

Find and fix all inconsistencies across components, blocks, screens, and demos — component reuse, naming patterns, token usage, and API patterns.

**Final Consistency Score:** 100/100 (all hardcoded values migrated to tokens)

## Phases

### Phase 19: Critical Color & API Fixes

**Goal**: All components use semantic color tokens and consistent APIs — dark mode and theming work perfectly
**Depends on**: Nothing (first phase of v1.2)
**Requirements**: TOK-01, TOK-02, TOK-03, TOK-04, TOK-05, TOK-09, API-01, REUSE-01
**Plans**: 9 plans (5 original + 4 gap closure)

Plans:
- [x] 19-01-PLAN.md — Icon color defaults + shadow migrations (UI components)
- [x] 19-02-PLAN.md — RGBA overlay + hex color fixes (UI components)
- [x] 19-03-PLAN.md — Icon defaults + color fixes (block components)
- [x] 19-04-PLAN.md — Icon defaults + color fixes (screen components)
- [x] 19-05-PLAN.md — Avatar API standardization + Home screen MediaCard reuse
- [x] 19-06-PLAN.md — [GAP CLOSURE] Icon color defaults + tag-input shadow (packages/registry/ui)
- [x] 19-07-PLAN.md — [GAP CLOSURE] Overlay colors (packages/registry/ui)
- [x] 19-08-PLAN.md — [GAP CLOSURE] Shadow implementations (packages/registry/ui)
- [x] 19-09-PLAN.md — [GAP CLOSURE] Hex colors + Avatar xl usages (packages/registry)

**Success Criteria** (all verified):
1. All 50+ icon components use `colors.foreground` instead of hardcoded `#000`
2. All overlay/scrim colors use semantic tokens (`colors.overlay`, `colors.scrim`)
3. All UI components, blocks, and screens use semantic color tokens
4. All shadow implementations use `platformShadow()` helper
5. Avatar component uses standard size scale (`sm|md|lg`)
6. Home screen uses existing MediaCard component

### Phase 20: Spacing, Typography & Naming

**Goal**: All styling uses theme tokens and naming patterns are consistent — visual hierarchy and developer experience are unified
**Depends on**: Phase 19
**Requirements**: TOK-06, TOK-07, TOK-08, NAME-01, NAME-02
**Plans**: 7 plans (5 original + 2 gap closure)

Plans:
- [x] 20-01-PLAN.md — Spacing token migration (form + display components)
- [x] 20-02-PLAN.md — Radius token migration (form, alert, calendar components)
- [x] 20-03-PLAN.md — Typography token migration batch 1 (form + feedback components)
- [x] 20-04-PLAN.md — Typography token migration batch 2 (navigation + display components)
- [x] 20-05-PLAN.md — Demo block file renaming (9 files + imports)
- [x] 20-06-PLAN.md — [GAP CLOSURE] Remaining spacing values (textarea, select, fab, datetime-picker)
- [x] 20-07-PLAN.md — [GAP CLOSURE] Spacing values (segmented-control, action-sheet, toggle)

**Success Criteria** (all verified):
1. All padding/margin values use `spacing[n]` tokens
2. All borderRadius values use `radius.*` tokens
3. All fontSize/fontWeight values use typography tokens
4. All 16 demo app block files use `-block` suffix in file names
5. All demo app block component names include `Block` suffix

### Phase 21: Demo Consistency & Validation

**Goal**: Demo app follows same token and naming standards as library — consistency is complete
**Depends on**: Phase 20
**Requirements**: DEMO-01
**Plans**: 5 plans

Plans:
- [x] 21-01-PLAN.md — Theme selector modal token migration (_layout.tsx)
- [x] 21-02-PLAN.md — Block file typography migration (16 files)
- [x] 21-03-PLAN.md — Demo file batch 1 token migration (8 high-violation demos)
- [x] 21-04-PLAN.md — Demo file batch 2 token migration (remaining demos)
- [x] 21-05-PLAN.md — App screens migration + dark mode verification checkpoint

**Success Criteria** (all verified):
1. Demo app components use semantic color tokens
2. Demo app components use spacing tokens
3. Demo app components use typography tokens
4. Demo app block naming matches registry patterns
5. Visual regression testing confirms no dark mode breaks

---

## Milestone Summary

**Key Decisions:**
- Icon color defaults use colors.foreground fallback — Dark mode support
- Shadows use platformShadow() helper — Platform and theme adaptation
- RGBA overlays use semantic tokens (overlay, scrim, backgroundElevated) — Full dark mode support
- Avatar uses standard 3-size scale (sm|md|lg) — Consistency with all other components
- spacing[0.25] used for 1px micro-spacing — Maintains precision while enabling theme customization
- Runtime PADDING_CONFIG pattern for size-variant components — Splits static layout from dynamic spacing
- Theme preview swatches remain hardcoded — Intentional brand color representation
- SocialProofBar avatarSize matches Avatar sizes (sm|md|lg) — API consistency

**Issues Resolved:**
- 250+ hardcoded values migrated to theme tokens
- 50+ icon components fixed to use colors.foreground
- All shadow implementations use platformShadow()
- All overlays use semantic tokens
- Avatar API standardized across all usages
- Demo app fully migrated to token system
- Dark mode verified working on iOS Simulator

**Technical Debt (non-blocking, v1.3 candidates):**
- rating.tsx uses hardcoded #F59E0B for star color (could use colors.warning)
- cart-item-block.tsx ActivityIndicator uses color="#fff" (could use colors.primaryForeground)
- Login/signup screens logo text uses hardcoded #FFFFFF

---

_Archived: 2026-01-28 as part of v1.2 milestone completion_
_For current project status, see .planning/ROADMAP.md_
